# ุฎุทุฉ ุฑูุน ุฅูุฌุฒูุง ุนูู Google Play Store

## Engezna - Google Play Release Roadmap

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2026-02-08
**ุขุฎุฑ ุชุญุฏูุซ:** 2026-02-13 (Phase 1.5 critical fixes implementation)
**ุงูุญุงูุฉ:** ุชู ุงูุงุนุชูุงุฏ - ุฌุงุฑู ุงูุชูููุฐ

> **ุชุนูููุงุช ุงููุชุงุจุนุฉ:** ูุชู ุชุญุฏูุซ ูุฐุง ุงูููู ูุน ูู ูููุฉ ุชูููุฐ. ุบููุฑ `[ ]` ุฅูู `[x]` ุนูุฏ ุงูุงูุชูุงู.
> ุฃุถู ุงูุชุงุฑูุฎ ุงููุนูู ุจุฌุงูุจ ูู ูููุฉ ููุชููุฉ.

---

## ููุฎุต ุงูุฎุทุฉ

| ุงููุฑุญูุฉ                                        | ุงูุฃูููุฉ | ุงููุฏุฉ ุงููุชููุนุฉ | ุงูุญุงูุฉ     |
| ---------------------------------------------- | ------- | -------------- | ---------- |
| **ุงููุฑุญูุฉ 0:** ุฅุตูุงุญุงุช ุฃูููุฉ ุนุงุฌูุฉ             | ุญุฑุฌ     | 1 ููู          | โ ุชู      |
| **ุงููุฑุญูุฉ 1:** ุฅุตูุงุญ ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุงูุฃุตูุงุช   | ุญุฑุฌ     | 2-3 ุฃูุงู       | โ ุชู      |
| **ุงููุฑุญูุฉ 1.5:** ุฅุตูุงุญุงุช ุญุฑุฌุฉ ููุชุดูุฉ (ูุฑุงุฌุนุฉ)  | ุญุฑุฌ     | 3-4 ุฃูุงู       | ๐ ุฌุงุฑู    |
| **ุงููุฑุญูุฉ 2:** ุชุญุณูู ุงูุฃุฏุงุก (Lighthouse)       | ุนุงูู    | 2-3 ุฃูุงู       | โฌ ูู ูุจุฏุฃ |
| **ุงููุฑุญูุฉ 3:** ุฅุนุฏุงุฏ Capacitor + Android Build | ุนุงูู    | 2-3 ุฃูุงู       | โฌ ูู ูุจุฏุฃ |
| **ุงููุฑุญูุฉ 4:** ุชุฌููุฒ Google Play Store Listing | ูุชูุณุท   | 1-2 ููู        | โฌ ูู ูุจุฏุฃ |
| **ุงููุฑุญูุฉ 5:** ุงูุงุฎุชุจุงุฑ ูุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ     | ุนุงูู    | 2-3 ุฃูุงู       | โฌ ูู ูุจุฏุฃ |
| **ุงููุฑุญูุฉ 6:** ุงููุดุฑ ุนูู Google Play           | ุญุฑุฌ     | 1-3 ุฃูุงู       | โฌ ูู ูุจุฏุฃ |

**ุงููุฏุฉ ุงูุฅุฌูุงููุฉ ุงูููุฏุฑุฉ:** 11-18 ููู ุนูู

---

## ุงููุฑุญูุฉ 0: ุฅุตูุงุญุงุช ุฃูููุฉ ุนุงุฌูุฉ (ููู ูุงุญุฏ)

> **ุงูุณุจุจ:** ูุง ูููู ูุดุฑ ุงูุชุทุจูู ูุจู ุซุบุฑุงุช ุฃูููุฉ ูุนุฑููุฉ.

### 0.1 ุฅุฒุงูุฉ Firebase Credentials ุงูููุดููุฉ

| ุงููููุฉ                                                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------------------------------- | ------ | ------- |
| [x] ููู credentials ูู `public/firebase-messaging-sw.js` ูู dynamic injection | โ     | 2/8     |
| [x] ุฅุฒุงูุฉ fallback values ูู `src/lib/firebase/config.ts`                     | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ุฅู ูู Firebase config ูุฌู ูู environment variables ููุท             | โ     | 2/8     |
| [x] ุฅูุดุงุก `firebase-messaging-sw.js` ุฏููุงููููุงู ุนุจุฑ build script              | โ     | 2/8     |

**ุงูุชูุงุตูู ุงูุชูููุฉ (ุชู ุงูุญู):**

- ุชู ุฅูุดุงุก `src/lib/firebase/generate-sw.ts` ููููุฏ ุงูู SW ูู env vars
- ุชู ุฑุจุทู ูู `next.config.ts` ููุนูู ุชููุงุฆูุงู ููุช ุงูู build
- ุชู ุฅุฒุงูุฉ fallback credentials ูู `src/lib/firebase/config.ts`
- ุชู ุฅุถุงูุฉ `public/firebase-messaging-sw.js` ูู `.gitignore`
- ุชู ุฅุถุงูุฉ Firebase env vars ูู `.env.example`

### 0.2 ุชุญุฏูุซ Dependencies ุงูุถุนููุฉ

| ุงููููุฉ                                                                                 | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------------------------------------------- | ------ | ------- |
| [x] ุชุญุฏูุซ `jspdf` ูุฃุญุฏุซ ุฅุตุฏุงุฑ v4.1.0 (ุซุบุฑุฉ ุญุฑุฌุฉ)                                       | โ     | 2/8     |
| [~] `xlsx` v0.18.5 ูุง ููุฌุฏ ุฅุตูุงุญ ูุชุงุญ - ุฎุทุฑ ููุจูู (ูุณุชุฎุฏู ููุท ูุงุณุชูุฑุงุฏ ููุงุฆู ุงููุฒูุฏูู) | โ๏ธ     | 2/8     |
| [x] ุชุดุบูู `npm audit fix` - ุจูู 5 ุซุบุฑุงุช (4 low + 1 high ูู xlsx)                       | โ     | 2/8     |
| [x] ุฅุฒุงูุฉ `console.log` statements ูู ูููุงุช ุงูุฅุดุนุงุฑุงุช                                  | โ     | 2/8     |

### 0.3 ุงูุชุญูู ูู ุงูุญูุงูุฉ

| ุงููููุฉ                                                                                | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------------------- | ------ | ------- |
| [x] ุงูุชุฃูุฏ ุฅู test account auto-confirmation ูุนุทู ูู production (ุฃุถูู NODE_ENV check) | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ุฅู RBAC middleware ุดุบุงู ููู ุงููุณุงุฑุงุช ูุญููุฉ (admin + provider + customer)   | โ     | 2/8     |
| [ ] ุชุดุบูู security tests: `npx playwright test comprehensive-e2e --grep SECURITY`     | โฌ     |         |

---

## ุงููุฑุญูุฉ 1: ุฅุตูุงุญ ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุงูุฃุตูุงุช (2-3 ุฃูุงู)

> **ุงูุณุจุจ:** ุงูุฅุดุนุงุฑุงุช ุฌุฒุก ุฃุณุงุณู ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ุชุทุจูู ุชูุตูู.

### 1.1 ุฅุตูุงุญ ูุดููุฉ ุตูุช ุงูุฅุดุนุงุฑุงุช (ุงูุฃููููุฉ ุงููุตูู)

| ุงููููุฉ                                                              | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------- | ------ | ------- |
| [x] ุชุทุจูู User Interaction Audio Unlock Pattern                     | โ     | 2/8     |
| [x] ุฅุถุงูุฉ AudioContext resume ุนูุฏ ุฃูู ุชูุงุนู ูููุณุชุฎุฏู (click/touch)  | โ     | 2/8     |
| [x] ุฅูุดุงุก Audio Manager ูุฑูุฒู ุจุฏู ุฅูุดุงุก Audio instances ูุชุนุฏุฏุฉ      | โ     | 2/8     |
| [x] ุฅุถุงูุฉ fallback: ุฅุฐุง ุงูุตูุช ูุดูุ ูุธูุฑ toast ุจุตุฑู ุจุงุฑุฒ + vibration | โ     | 2/8     |
| [ ] ุงุฎุชุจุงุฑ ุงูุตูุช ุนูู Chrome Android, Safari iOS, Chrome Desktop     | โฌ     |         |

**ุงูุชูุงุตูู ุงูุชูููุฉ (ุชู ุงูุญู):**

- ุชู ุฅูุดุงุก `src/lib/audio/audio-manager.ts` - Audio Manager ูุฑูุฒู (singleton)
- ูููู ุจุฅูุดุงุก AudioContext ูุชุดุบูู silent buffer ุนูุฏ ุฃูู click/touch/keydown
- Pre-loads ุฌููุน ูููุงุช ุงูุตูุช: notification.mp3, new-order.mp3, custom-order.mp3
- Vibration fallback ุนูุฏ ูุดู ุงูุตูุช (ุฃููุงุท ูุฎุชููุฉ ุญุณุจ ููุน ุงูุฅุดุนุงุฑ)
- ุชู ุงุณุชุจุฏุงู ูู `new Audio()` instances ุจู `getAudioManager().play(type)`
- ุชู ุชููุฆุฉ AudioManager ูู `PushNotificationProvider` ุนูุฏ mount

### 1.2 ุงูุชุฃูุฏ ูู ุนูู VAPID Key

| ุงููููุฉ                                                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------------------------------- | ------ | ------- |
| [x] ุงูุชุฃูุฏ ุฅู `NEXT_PUBLIC_FIREBASE_VAPID_KEY` ูุชุนุฑู ูู environment variables | โ     | 2/8     |
| [x] ุฅุถุงูุฉ validation warning ูู ุงูู VAPID key ูุงุถู                            | โ     | 2/8     |
| [ ] ุงุฎุชุจุงุฑ FCM token generation ุนูู ุจูุฆุฉ staging                              | โฌ     |         |

**ุชูุงุตูู (ุชู):** ุชู ุฅุถุงูุฉ early VAPID_KEY check ูู `getFcmToken()` ูุน console.warn ูุงุถุญ

### 1.3 ุฅุดุนุงุฑุงุช ููุฏูู ุงูุฎุฏูุงุช (Provider)

| ุงููููุฉ                                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ---------------------------------------------------------------------------- | ------ | ------- |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุตูุชู ุนูุฏ ุทูุจ ุฌุฏูุฏ (new-order.mp3 ุนูุฏ 0.7 volume)    | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุฑุณุงูุฉ ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ                              | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุชูููู ุฌุฏูุฏ                                      | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุทูุจ ุงุณุชุฑุฌุงุน                                     | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุดููู ุฌุฏูุฏุฉ                                      | โ     | 2/8     |
| [ ] ุฅุถุงูุฉ ุตูุช ูุฎุชูู ููููุฒ ููุทูุจุงุช ุงูุฌุฏูุฏุฉ (persistent alert ุญุชู ููุจู ุงููุฒูุฏ) | โฌ     |         |

**ุชูุงุตูู (ุชู ุงููุฑุงุฌุนุฉ):** ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุจูู ุจุงููุงูู ูุน:

- Realtime ุงุดุชุฑุงูุงุช + polling fallback (10s)
- Push ุนุจุฑ FCM Edge Functions
- Database triggers ููู ุงูุฃุญุฏุงุซ
- Bell icon + dropdown + sidebar badges

### 1.4 ุฅุดุนุงุฑุงุช ุงูุนููุงุก (Customer)

| ุงููููุฉ                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| --------------------------------------------- | ------ | ------- |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุฑุณุงูุฉ ูู ุงููุฒูุฏ  | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุชุณุนูุฑ ุทูุจ ูุฎุตุต   | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ุฑุฏ ุนูู ุชุฐูุฑุฉ ุฏุนู | โ     | 2/8     |
| [x] ุงูุชุฃูุฏ ูู ูุตูู ุฅุดุนุงุฑ ุนูุฏ ูุนุงูุฌุฉ ุงูุงุณุชุฑุฌุงุน | โ     | 2/8     |

**ุชูุงุตูู (ุชู ุงููุฑุงุฌุนุฉ):** ูุธุงู ุฅุดุนุงุฑุงุช ุงูุนููุงุก ูุจูู ุจุงููุงูู ูุน:

- ุตูุญุฉ ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ `/notifications`
- Realtime ุงุดุชุฑุงูุงุช + App Badge
- ุฃุฒุฑุงุฑ ุชุฃููุฏ ุงูุงุณุชุฑุฌุงุน ุงูููุฏู
- ุฃุฒุฑุงุฑ ุงูุฑุฏ ุงูุณุฑูุน ููุฑุณุงุฆู

### 1.5 ุฅุดุนุงุฑุงุช ุงูุฃุฏูู

| ุงููููุฉ                                                  | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------- | ------ | ------- |
| [x] ุชูุนูู Push Notifications ููุฃุฏูู (ูุงู ูุนูู ุจุงููุนู)   | โ     | 2/8     |
| [x] ุฅุดุนุงุฑ ุนูุฏ ูุชุฌุฑ ุฌุฏูุฏ ููุชุธุฑ ุงูููุงููุฉ                  | โ     | 2/8     |
| [x] ุฅุดุนุงุฑ ุนูุฏ ุดููู escalated                            | โ     | 2/8     |
| [x] ุฅุดุนุงุฑ ุนูุฏ ุทูุจ ุงุณุชุฑุฌุงุน ุฌุฏูุฏ                          | โ     | 2/8     |
| [x] ุฅูุดุงุก ุตูุญุฉ ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ `/admin/notifications`     | โ     | 2/8     |
| [x] ุฅุถุงูุฉ ุฑุงุจุท ุงูุฅุดุนุงุฑุงุช ูู sidebar ุงูุฃุฏูู              | โ     | 2/8     |
| [x] ุชุญุฏูุซ dropdown header ูุฑุจุทู ุจุตูุญุฉ ุงูุฅุดุนุงุฑุงุช ุงููุงููุฉ | โ     | 2/8     |

**ุชูุงุตูู (ุชู):** Push notifications ูุงูุช ุชุนูู ุจุงููุนู ุนุจุฑ FCM. ุชู ุฅุถุงูุฉ:

- ุตูุญุฉ ุฅุดุนุงุฑุงุช ูุงููุฉ ูุน ููุชุฑุฉ (ุงููู/ููุฑูุก/ุบูุฑ ููุฑูุก)
- ุนุฏุงุฏ ุฅุญุตุงุฆูุงุช (ุฅุฌูุงูู/ููุฑูุก/ุบูุฑ ููุฑูุก)
- ุญุฐู ูุชุนููู ูููุฑูุก
- ุชุตููุฉ ุญุณุจ ุงูููุทูุฉ ูููุดุฑููู ุงูุฅููููููู

### 1.6 ุจูุงุก ูุงุฌูุฉ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช

| ุงููููุฉ                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------ | ------ | ------- |
| [x] ุฅูุดุงุก ุตูุญุฉ Notification Preferences ูู ุฅุนุฏุงุฏุงุช ุงูุนููู    | โ     | 2/8     |
| [x] ุฅูุดุงุก ุตูุญุฉ Notification Preferences ูู ุฅุนุฏุงุฏุงุช ุงููุฒูุฏ    | โ     | 2/8     |
| [x] ุฑุจุท ุงูุตูุญุฉ ุจุฌุฏูู `notification_preferences` ุงูููุฌูุฏ      | โ     | 2/8     |
| [x] ุฅุถุงูุฉ toggles: ุตูุช on/off, ุฃููุงุน ุงูุฅุดุนุงุฑุงุช, ุณุงุนุงุช ุงููุฏูุก | โ     | 2/8     |

**ุชูุงุตูู (ุชู):**

- ุชู ุฅูุดุงุก `NotificationPreferences` component ูุดุชุฑู ููุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- ุตูุญุฉ `/profile/notifications` ููุนููุงุก ูุน ุฑุงุจุท ูู ูุงุฆูุฉ ุงูุญุณุงุจ
- ุตูุญุฉ `/provider/notifications` ูููุฒูุฏูู ูุน ุฑุงุจุท ูู sidebar
- Toggle switches ูุฃููุงุน ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงูุฏูุฑ (ุนููู/ูุฒูุฏ/ุฃุฏูู)
- ุฅุนุฏุงุฏุงุช ุงูุตูุช (ุชุดุบูู/ุฅููุงู) ูุน ุฑุจุท AudioManager
- ููุช ุงูุฑุงุญุฉ (Quiet Hours) ูุน ุงุฎุชูุงุฑ ุงูููุช

### 1.7 ุชูุดูุท Edge Functions

| ุงููููุฉ                                                                      | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| --------------------------------------------------------------------------- | ------ | ------- |
| [ ] ูุดุฑ `send-notification` Edge Function ุนูู Supabase                      | โฌ     |         |
| [ ] ูุดุฑ `handle-notification-trigger` Edge Function ุนูู Supabase            | โฌ     |         |
| [x] ุฅุนุฏุงุฏ Database Webhooks ูุฑุจุท triggers ุจุงูู Edge Functions               | โ     | 2/9     |
| [ ] ุฅุนุฏุงุฏ `FIREBASE_SERVICE_ACCOUNT` ูู Supabase Secret                     | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ุงูุฏูุฑุฉ ุงููุงููุฉ: trigger โ webhook โ Edge Function โ FCM โ device | โฌ     |         |

**ุชูุงุตูู (2/9):**

- ุชู ุฅูุดุงุก migration ูุฑุจุท `customer_notifications` ู `provider_notifications` ุจุงูู webhook
- ูู INSERT ูู ุฌุฏุงูู ุงูุฅุดุนุงุฑุงุช ููุทูู webhook ุชููุงุฆูุงู ูุฅุฑุณุงู FCM push
- ุฑุงุฌุน `docs/EDGE_FUNCTIONS_DEPLOYMENT.md` ูุฎุทูุงุช ุงููุดุฑ ุงููุงููุฉ

### 1.8 ุฅุตูุงุญ ุตูุช ุฅุดุนุงุฑุงุช ุญุงูุฉ ุงูุทูุจ ููุนููู

| ุงููููุฉ                                                                   | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------ | ------ | ------- |
| [x] ุฅุถุงูุฉ ุตูุช ูุฎุตุต `order-update` ูุชุบููุฑุงุช ุญุงูุฉ ุงูุทูุจ                    | โ     | 2/9     |
| [x] ุฑุจุท ููุน ุงูุฅุดุนุงุฑ ุจุงูุตูุช ุงูููุงุณุจ (order_accepted โ order-update sound) | โ     | 2/9     |
| [x] ุฅุตูุงุญ Polling fallback ููุดุบู ุตูุช ุนูุฏ ูุตูู ุฅุดุนุงุฑ ุฌุฏูุฏ                 | โ     | 2/9     |
| [x] ุฅุฒุงูุฉ Double Polling ุงูุฒุงุฆุฏ (ูุงู ูุณุชููู ููุงุฑุฏ ุจูุง ูุงุฆุฏุฉ)             | โ     | 2/9     |
| [x] ุฅุตูุงุญ memory leak: ุงุณุชุฎุฏุงู useRef ุจุฏู useState ููู channel           | โ     | 2/9     |
| [x] ุชุญุฏูุซ PushNotificationProvider ููุฃุตูุงุช ุญุณุจ ููุน ุงูุฅุดุนุงุฑ               | โ     | 2/9     |
| [x] ุชุญุฏูุซ SoundTestDebug ูุงุฎุชุจุงุฑ ุตูุช order-update                        | โ     | 2/9     |

### 1.9 ุฅุตูุงุญ ูุธุงู ุงูุทูุจุงุช ุงูุฎุงุตุฉ (Custom Orders System)

| ุงููููุฉ                                                                                                 | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------------------------------------ | ------ | ------- |
| [x] ุฅูุดุงุก trigger ูุฃุฑุดูุฉ ุงูุจุซ ุชููุงุฆูุงู ุนูุฏ ุงูุชูุงุก ูู ุงูุทูุจุงุช (`auto_archive_broadcast`)                | โ     | 2/9     |
| [x] ุฅูุดุงุก cron job ููุญุฏ ูู 30 ุฏูููุฉ ูุงูุชูุงุก ุตูุงุญูุฉ ุงูุทูุจุงุช (`expire_all_custom_orders`)                | โ     | 2/9     |
| [x] ุฅุตูุงุญ ุณูุงุณุฉ RLS ุนูู `custom_order_requests` INSERT (ูุงูุช ูุญุธูุฑุฉ ุจุนุฏ ุชุญุฏูุซ ุงูุฃูุงู)                  | โ     | 2/9     |
| [x] ุฅุถุงูุฉ ุญุณุงุจ ุญุงูุฉ ุงูุจุซ ุงููุจุงุดุฑุฉ (`computeBroadcastLiveStatus`) ูู ุตูุญุฉ ุงูุนููู                        | โ     | 2/9     |
| [x] ููุชุฑุฉ ุงูุจุซูุซ ุงูููุชููุฉ ูู ุตูุญุฉ ุทูุจุงุช ุงูุนููู                                                         | โ     | 2/9     |
| [x] ุงุณุชุฎุฏุงู `custom_order_requests_live` view ูู ุดุงุฑุฉ ุงูุชุงุฌุฑ                                           | โ     | 2/9     |
| [x] ุฅุถุงูุฉ `CUSTOM_ORDER_EXPIRED` ูุฑุจุท ุงูุตูุช ุงูููุงุณุจ                                                    | โ     | 2/9     |
| [x] ุฅุตูุงุญ ุนุฏู ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุจุนุฏ ููุงููุฉ ุงูุนููู (ุงูุญุงูุฉ ุงููุนููุฉ `approved` ูููุณุช `customer_approved`) | โ     | 2/9     |
| [x] ุงุณุชุจุฏุงู ุฒุฑ ุงูุชุญุฏูุซ ุงููุฏูู ุจู auto-polling ูู 15 ุซุงููุฉ                                              | โ     | 2/9     |
| [x] ุฅุตูุงุญ ุนุฑุถ ุฃุตูุงู ุงูุทูุจ ุงูุฎุงุต ูู ุตูุญุฉ ุชูุงุตูู ุงูุนููู (ุฌูุจ ูู `custom_order_items`)                    | โ     | 2/9     |
| [x] ุฅุตูุงุญ ุนุฑุถ ุฃุตูุงู ุงูุทูุจ ุงูุฎุงุต ูู ุตูุญุฉ ุชูุงุตูู ุงูุชุงุฌุฑ                                                  | โ     | 2/9     |
| [x] ุฅุตูุงุญ ุธููุฑ ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช ุงููุชูุฑุฑ (ูุญุต localStorage ุฏุงุฎู timer effect)                            | โ     | 2/9     |
| [x] ุฌุนู ูุฑูุช ุงูุทูุจุงุช ุงูุฎุงุตุฉ ูุงุจูุฉ ููููุฑ ูุน Link wrapper                                                | โ     | 2/9     |
| [x] ุนุฑุถ ุญุงูุฉ ุชูููุฐ ุงูุทูุจ (preparing, out_for_delivery, etc) ุจุฏูุงู ูู ุญุงูุฉ ุงูุทูุจ ุงูุฎุงุต                  | โ     | 2/9     |

**ุงูุชูุงุตูู ุงูุชูููุฉ:**

- Migration: `20260209200000_fix_custom_order_auto_archive.sql` - trigger + cron + admin function
- Migration: `20260209200001_fix_custom_order_requests_insert_rls.sql` - broadcast owner INSERT policy
- โ ุชู ุชุทุจูู ุงูู migrations ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุชู ุงูุชุญูู 2/9)

### 1.10 ุชูุงุณู ุชุตููู ูุฑูุช ุงูุทูุจุงุช ุงูุฎุงุตุฉ ูุน ุงูุนุงุฏูุฉ (Provider)

| ุงููููุฉ                                                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------------------------------------------------- | ------ | ------- |
| [x] ุฅุนุงุฏุฉ ุชุตููู ูุงุฑุช ุงูุทูุจ ุงูุฎุงุต ุงูููุงูู ุนููู ููุทุงุจู ุชุตููู ูุงุฑุช ุงูุทูุจ ุงูุนุงุฏู                 | โ     | 2/9     |
| [x] ุนุฑุถ ุฑูู ุงูุทูุจ ุจุดูู ุจุงุฑุฒ ูุน ุดุงุฑุฉ "ุทูุจ ุฎุงุต" ุจููุณุฌูุฉ                                        | โ     | 2/9     |
| [x] ุนุฑุถ ุงูุฃุตูุงู ุงููุนููุฉ ูู `custom_order_items` (ุฃูู 3 + ุนุฏุงุฏ ุงูุจุงูู)                        | โ     | 2/9     |
| [x] ุนุฑุถ ุนููุงู ุงูุชูุตูู ูุงูู (ูุญุงูุธุฉ/ูุฏููุฉ/ุญู + ุนููุงู + ูุจูู/ุทุงุจู + ุนูุงูุฉ ูููุฒุฉ)               | โ     | 2/9     |
| [x] ุนุฑุถ ุงูุฅุฌูุงูู ุจุฎุท ูุจูุฑ + ุทุฑููุฉ ุงูุฏูุน ูุน ุดุงุฑุฉ ุญุงูุฉ ุงูุฏูุน                                   | โ     | 2/9     |
| [x] ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุชูุฏู ุงูุญุงูุฉ ูุจุงุดุฑุฉ ุนูู ุงููุงุฑุช (ุฌุงุฑู ุงูุชุญุถูุฑ โ ุฌุงูุฒ โ ูู ุงูุทุฑูู โ ุชู ุงูุชูุตูู) | โ     | 2/9     |
| [x] ุฅุถุงูุฉ ุฒุฑ "ุชู ุงุณุชูุงู ุงููุจูุบ" ุจุนุฏ ุงูุชูุตูู ูุน ูุงูุฐุฉ ุชุฃููุฏ                                   | โ     | 2/9     |
| [x] ุงูุฅุจูุงุก ุนูู ุงูุชุตููู ุงูุญุงูู ููุทูุจุงุช ุบูุฑ ุงูููุงูู ุนูููุง (pending/priced)                    | โ     | 2/9     |

**ุงูุชูุงุตูู ุงูุชูููุฉ:**

- ุชูุณูุน query ููุฌูุจ `delivery_address, payment_method, payment_status, total` ูู `orders`
- ุฌูุจ `custom_order_items` ุจุดูู ูุฌูุน ููู ุงูุทูุจุงุช ุงูููุงูู ุนูููุง (batch query)
- ูุงูุฐุฉ ุชุฃููุฏ ุฏูุน ูุทุงุจูุฉ ูุตูุญุฉ ุงูุทูุจุงุช ุงูุนุงุฏูุฉ
- ุฃููุงุท `shadow-elegant`, `rounded-2xl` ูุชูุงุณูุฉ ูุน ุงูุทูุจุงุช ุงูุนุงุฏูุฉ

---

## ุงููุฑุญูุฉ 1.5: ุฅุตูุงุญุงุช ุญุฑุฌุฉ ููุชุดูุฉ ูู ูุฑุงุฌุนุฉ ุงูููุฏ (3-4 ุฃูุงู)

> **ุงูุณุจุจ:** ูุฑุงุฌุนุฉ ุนูููุฉ ููููุฏ (2026-02-12) ูุดูุช ูุดุงูู ุญุฑุฌุฉ ูู ุงูุชุฏููุงุช ุงููุงููุฉ ูุงูุฃูููุฉ ูุฌุจ ุญููุง ูุจู ุงููุดุฑ.
> **ุงูุชูุฑูุฑ ุงููุงูู:** `docs/PRE_RELEASE_REVIEW_REPORT.md`
>
> **โ๏ธ ุชูุจูู Supabase:** ูู ูููุฉ ุชุฎุต ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌุจ ุฃู ุชุจุฏุฃ ุจุงุณุชุนูุงูุงุช ูุญุต ูููุฐูุง ุงููุงูู ุนูู SQL Editor
> ููุดุงุฑู ูุชุงุฆุฌูุง ูุจู ูุชุงุจุฉ ุฃู migration ุฃู ุชุนุฏูู. **ููููุน ุงูุงูุชุฑุงุถ - ุงููููู ููุท.**

### 1.5.0 ุญุฐู Service Role Key ุงูููุดูู ูู Triggers (ุงูุฃุนูู ุฎุทูุฑุฉ - ูุคูุฏ)

> **ูุคูุฏ ูู SQL ูุจุงุดุฑ ุนูู ูุงุนุฏุฉ ุงูุฅูุชุงุฌ (2/12)**

| ุงููููุฉ                                                                             | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ---------------------------------------------------------------------------------- | ------ | ------- |
| [x] ุญุฐู 7 triggers ุชุญุชูู JWT ุญุฑูู (new_review/support_tickets/ticket_messages/...) | โ     | 2/13    |
| [x] ุนูู Rotate ููู Service Role Key ูู Supabase Dashboard                          | โ     | 2/13    |
| [x] ุชุญุฏูุซ ุงูููุชุงุญ ุงูุฌุฏูุฏ ูู Vercel env vars + GitHub Secrets + Supabase Dashboard  | โ     | 2/13    |
| [ ] ุชุญุฏูุซ ุงูููุชุงุญ ูู `.env.local` ุงููุญูู (ููุชุทููุฑ ููุท - ุงุฎุชูุงุฑู)                   | โฌ     |         |
| [ ] ุงูุชุฃูุฏ ุฃู triggers ุงูุขููุฉ (on\_\*) ุชุบุทู ูู ุงูุญุงูุงุช                             | โฌ     |         |
| [ ] ุญุฐู Database Webhooks ูู Dashboard ูููุน ุงูุชูุฑุงุฑ                                | โฌ     |         |

### 1.5.1 ุฅุตูุงุญ ุฎุทุฑ ุงูุทูุจุงุช ุงูููููุฉ (Phantom Orders)

| ุงููููุฉ                                                                     | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------------------------------- | ------ | ------- |
| [x] ุฅูุดุงุก ุงูุทูุจ ุจุญุงูุฉ `pending_payment` **ูุจู** ุชูุฌูู ุงููุณุชุฎุฏู ูู Kashier  | โ     | 2/13    |
| [x] ุฅุฒุงูุฉ ุงุนุชูุงุฏ localStorage ูุญูุธ ุจูุงูุงุช ุงูุทูุจ (`pendingOnlineOrderData`) | โ     | 2/13    |
| [x] ุชุญุฏูุซ payment-result page ูููุฑุฃ ูู DB ุจุฏู localStorage                 | โ     | 2/13    |
| [x] ุฅุถุงูุฉ cron job ูุฅูุบุงุก ุงูุทูุจุงุช ุจุญุงูุฉ `pending_payment` ุจุนุฏ 30 ุฏูููุฉ     | โ     | 2/13    |

### 1.5.2 ุฅูุดุงุก Kashier Refund API

| ุงููููุฉ                                                | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------- | ------ | ------- |
| [x] ุฅูุดุงุก `/api/payment/kashier/refund` endpoint      | โ     | 2/13    |
| [x] ุฑุจุท ุงูู endpoint ุจู Kashier Refund API            | โ     | 2/13    |
| [x] ุชุฎุฒูู `refund_transaction_id` ุนูุฏ ุฅุฑุณุงู ุงูุงุณุชุฑุฌุงุน | โ     | 2/13    |
| [ ] ุฅุถุงูุฉ webhook handler ูุชุฃููุฏ ุงูุงุณุชุฑุฌุงุน ูู Kashier | โฌ     |         |
| [x] ุชูุถูุญ ุนูููุฉ ุงุณุชุฑุฌุงุน ุงูุทูุจุงุช ุงููุฏููุนุฉ ููุฏุงู (COD)  | โ     | 2/13    |

### 1.5.3 ุญูุงูุฉ Webhook ูู ุงููุนุงูุฌุฉ ุงูููุฑุฑุฉ

| ุงููููุฉ                                                              | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------- | ------ | ------- |
| [x] ุฅุถุงูุฉ unique constraint ุนูู `payment_transaction_id` ูู ุงูุทูุจุงุช | โ     | 2/13    |
| [x] ุฅุถุงูุฉ idempotency check ูุจู ูุนุงูุฌุฉ ุงูู webhook                  | โ     | 2/13    |
| [x] ุงูุชุนุงูู ูุน ุญุงูุงุช webhook retry ูู Kashier                       | โ     | 2/13    |

### 1.5.4 ุชูุนูู ุญูุงูุฉ CSRF

| ุงููููุฉ                                                            | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------------------- | ------ | ------- |
| [x] ุชุทุจูู CSRF validation ูู middleware (log-only ุฃููุงู)          | โ     | 2/13    |
| [x] ุฅุฑุณุงู CSRF token ูู checkout (payment initiation)             | โ     | 2/13    |
| [x] ุงุณุชุซูุงุก webhooks ู cron ู auth ูู CSRF check                  | โ     | 2/13    |
| [ ] ุงูุชุญููู ูู log-only ูู enforce (CSRF_ENFORCE=true) ุจุนุฏ ุงูุชุฃูุฏ | โฌ     |         |

### 1.5.5 ุชูุธูู Console.log ูุชุญุณูู ุงูุฃูุงู

| ุงููููุฉ                                                                   | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------ | ------ | ------- |
| [x] ุฅุฒุงูุฉ console.log ูู ูู API routes + lib/admin + lib/email (36 ููู)  | โ     | 2/13    |
| [x] ุฅุฒุงูุฉ console.log ูู webhook ุงูุฏูุน (ุจูุงูุงุช ุญุณุงุณุฉ)                    | โ     | 2/13    |
| [x] ุฅุตูุงุญ Kashier credentials validation (throw error ุจุฏู fallback ูุงุฑุบ) | โ     | 2/13    |

### 1.5.6 ูุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุนููุฉ

| ุงููููุฉ                                                           | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ---------------------------------------------------------------- | ------ | ------- |
| [x] ุฅูุดุงุก cron job ูุชุญููู ุทูุจุงุช `pending_payment` ูู `cancelled` | โ     | 2/13    |
| [x] ุฅุถุงูุฉ ุฅุดุนุงุฑ ููุนููู ุนูุฏ ูุดู/ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฏูุน               | โ     | 2/13    |
| [x] ููู ุงูู cron ูู Vercel ูู Supabase pg_cron (Hobby plan ูููุฏ) | โ     | 2/13    |
| [x] ุฅุตูุงุญ ุฃุณูุงุก ุฃุนูุฏุฉ customer_notifications ูู ูู ุงูู routes    | โ     | 2/13    |

### 1.5.7 ุฅูุฒุงู Kashier Webhook Signature (ูู ุชูุฑูุฑ Codex)

| ุงููููุฉ                                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------- | ------ | ------- |
| [x] ุฌุนู signature ุฅูุฒุงููุฉ ูู webhook handler (ุฑูุถ ุจุฏูู ุชูููุน) | โ     | 2/13    |
| [x] ุฅุถุงูุฉ logging ููุญุงููุงุช webhook ุจุฏูู signature             | โ     | 2/13    |

### 1.5.8 ุฅุตูุงุญ Promo Validation Identity Spoofing (ูู ุชูุฑูุฑ Codex)

| ุงููููุฉ                                                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------------------------------- | ------ | ------- |
| [x] ุฑุจุท promo validation ุจู session ุงููุณุชุฎุฏู ุงููุนููุฉ ุจุฏู body user_id         | โ     | 2/13    |
| [x] ุงุณุชุฎุฏุงู `getUser()` ูู Supabase Auth ุจุฏู ูุจูู user_id ูู ุงูู request body | โ     | 2/13    |

### 1.5.9 ุฅุถุงูุฉ Content-Security-Policy (ูู ุชูุฑูุฑ Codex)

| ุงููููุฉ                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------ | ------ | ------- |
| [x] ุฅุถุงูุฉ CSP header ูู next.config.ts (report-only ุฃููุงู)   | โ     | 2/13    |
| [ ] ุงุฎุชุจุงุฑ ุงูุชูุงูู ูุน Supabase, Kashier, Firebase, HERE Maps | โฌ     |         |
| [ ] ุงูุชุญููู ูู report-only ูู enforce ุจุนุฏ ุงูุชุฃูุฏ             | โฌ     |         |

### 1.5.10 ุชุถููู RLS Policies ุงูููุชูุญุฉ (ูู ุชูุฑูุฑ Codex)

| ุงููููุฉ                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------ | ------ | ------- |
| [x] ุชุถููู SELECT ุนูู promo_codes (active + valid date ููุท)   | โ     | 2/13    |
| [x] ูุฑุงุฌุนุฉ SELECT policies ุนูู profiles (ุฅุฎูุงุก ุจูุงูุงุช ุญุณุงุณุฉ) | โ     | 2/13    |
| [x] ุชูุธูู ุงูุณูุงุณุงุช ุงููุชูุฑุฑุฉ/ุงููุชุฏุงุฎูุฉ ุนูู ุงูุฌุฏุงูู            | โ     | 2/13    |

---

## ุงููุฑุญูุฉ 2: ุชุญุณูู ุงูุฃุฏุงุก - Lighthouse (2-3 ุฃูุงู)

> **ุงูุณุจุจ:** Google Play ูุชุทูุจ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ. LCP 7.9s ุบูุฑ ููุจูู.

### 2.1 ุชุญุณูู Largest Contentful Paint (LCP)

| ุงููููุฉ                                                      | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ----------------------------------------------------------- | ------ | ------- |
| [ ] ุชุทุจูู `priority` ุนูู hero images                        | โฌ     |         |
| [ ] ุงุณุชุฎุฏุงู `next/image` ูุน `sizes` ู `srcSet` ุจุดูู ุตุญูุญ    | โฌ     |         |
| [ ] ุถุบุท ุงูุจุงูุฑ ุงูุฑุฆูุณู (ุญุงููุงู 938KB - ูุฌุจ ุฃู ูููู < 200KB) | โฌ     |         |
| [ ] ุชูุนูู `preload` ูุฃูู ุงูููุงุฑุฏ ูู `<head>`                | โฌ     |         |
| [ ] ุงููุฏู: LCP < 2.5s                                       | โฌ     |         |

### 2.2 ุชุญุณูู Cumulative Layout Shift (CLS)

| ุงููููุฉ                                             | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------- | ------ | ------- |
| [ ] ุฅุถุงูุฉ `width` ู `height` ุตุฑูุญ ููู ุตูุฑุฉ         | โฌ     |         |
| [ ] ุฅุถุงูุฉ skeleton placeholders ูููุญุชูู ุงูุฏููุงูููู | โฌ     |         |
| [ ] ุฅุตูุงุญ font loading (ุญุงููุงู ูุณุจุจ layout shift)  | โฌ     |         |
| [ ] ุงููุฏู: CLS < 0.1                               | โฌ     |         |

### 2.3 ุชุญุณูู First Contentful Paint (FCP)

| ุงููููุฉ                                            | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------- | ------ | ------- |
| [ ] ุชูููู initial JavaScript bundle size          | โฌ     |         |
| [ ] ุชุฃุฎูุฑ ุชุญููู Firebase SDK (lazy loading ูุญุณูู) | โฌ     |         |
| [ ] ุงุณุชุฎุฏุงู dynamic imports ููุตูุญุงุช ุงูุซูููุฉ       | โฌ     |         |
| [ ] ุงููุฏู: FCP < 1.5s                             | โฌ     |         |

### 2.4 ุชุญุณูู Speed Index

| ุงููููุฉ                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------ | ------ | ------- |
| [ ] ุชุญุณูู Server-Side Rendering ูุชูููู client-side hydration | โฌ     |         |
| [ ] ุชุทุจูู ISR Caching ุนูู ุตูุญุงุช ุงููุฒูุฏูู ูุงูููุชุฌุงุช           | โฌ     |         |
| [ ] ุฅุถุงูุฉ streaming SSR ูุฃุฌุฒุงุก ุงูุตูุญุฉ ุงููุจูุฑุฉ                | โฌ     |         |
| [ ] ุงููุฏู: Speed Index < 4s                                  | โฌ     |         |

### 2.5 ุชุญุณููุงุช ุนุงูุฉ

| ุงููููุฉ                                                        | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------- | ------ | ------- |
| [ ] ุชุญููู ุงูุตูุฑ ุงููุจูุฑุฉ ูู WebP/AVIF                          | โฌ     |         |
| [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู Skeleton Loaders (ุญุงููุงู 2 ููุท)           | โฌ     |         |
| [ ] ุชูุนูู gzip/brotli compression                             | โฌ     |         |
| [ ] ุชุญุณูู Accessibility score ูู 87 ุฅูู 95+ (contrast ratios) | โฌ     |         |
| [ ] ุชุดุบูู Lighthouse audit ูููุงุฑูุฉ ุงููุชุงุฆุฌ                    | โฌ     |         |
| [ ] ุงููุฏู: Lighthouse Performance > 80                        | โฌ     |         |

---

## ุงููุฑุญูุฉ 3: ุฅุนุฏุงุฏ Capacitor + Android Build (2-3 ุฃูุงู)

> **ุงูุณุจุจ:** ูุฑูุน ุงูุชุทุจูู ูู APK/AAB ุนูู Google Play.

### 3.1 ุชุซุจูุช ูุฅุนุฏุงุฏ Capacitor

| ุงููููุฉ                                                  | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------- | ------ | ------- |
| [ ] ุชุซุจูุช: `npm install @capacitor/core @capacitor/cli` | โฌ     |         |
| [ ] ุชุดุบูู: `npx cap init "ุฅูุฌุฒูุง" "com.engezna.app"`    | โฌ     |         |
| [ ] ุฅูุดุงุก `capacitor.config.ts` ุจุงูุฅุนุฏุงุฏุงุช ุงูููุงุณุจุฉ     | โฌ     |         |
| [ ] ุฅุถุงูุฉ Android platform: `npx cap add android`       | โฌ     |         |

**ุฅุนุฏุงุฏุงุช Capacitor ุงูููุชุฑุญุฉ:**

```typescript
// capacitor.config.ts
const config = {
  appId: 'com.engezna.app',
  appName: 'ุฅูุฌุฒูุง',
  webDir: 'out', // ุฃู '.next/standalone' ุญุณุจ ุงูู build strategy
  server: {
    androidScheme: 'https',
    hostname: 'app.engezna.com', // ุฃู ุงูุฏูููู ุงูููุงุณุจ
  },
  plugins: {
    PushNotifications: {
      presentationOptions: ['badge', 'sound', 'alert'],
    },
    SplashScreen: {
      launchAutoHide: false,
      backgroundColor: '#0F172A',
    },
  },
};
```

### 3.2 ุฅุนุฏุงุฏ Native Plugins

| ุงููููุฉ                                                         | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------------------- | ------ | ------- |
| [ ] ุชุซุจูุช `@capacitor/push-notifications` ูุฅุดุนุงุฑุงุช native      | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/geolocation` ูููููุน ุงูุฌุบุฑุงูู             | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/camera` ูุชุตููุฑ ุงูููุชุฌุงุช                  | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/share` ูููุดุงุฑูุฉ                          | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/app` ูู deep linking ู app state         | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/status-bar` ู `@capacitor/splash-screen` | โฌ     |         |
| [ ] ุชุซุจูุช `@capacitor/haptics` ููุงูุชุฒุงุฒ ุนูุฏ ุงูุฅุดุนุงุฑุงุช          | โฌ     |         |

### 3.3 ุฅุนุฏุงุฏ Android Project

| ุงููููุฉ                                                                    | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------- | ------ | ------- |
| [ ] ุฅุนุฏุงุฏ `google-services.json` ูู Firebase Console                      | โฌ     |         |
| [ ] ุฅุถุงูุฉ Firebase dependencies ูู `android/app/build.gradle`             | โฌ     |         |
| [ ] ุฅุนุฏุงุฏ Notification Channel ูุน sound ูู `MainActivity.java`            | โฌ     |         |
| [ ] ุฅุถุงูุฉ notification sound files ูู `android/app/src/main/res/raw/`     | โฌ     |         |
| [ ] ุฅุนุฏุงุฏ App Icon (Adaptive Icon) ุจุงูุฃุญุฌุงู ุงููุทููุจุฉ                      | โฌ     |         |
| [ ] ุฅุนุฏุงุฏ Splash Screen                                                   | โฌ     |         |
| [ ] ุฅุนุฏุงุฏ `AndroidManifest.xml` (permissions, deep links, intent filters) | โฌ     |         |

### 3.4 Build ู Testing

| ุงููููุฉ                                                          | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| --------------------------------------------------------------- | ------ | ------- |
| [ ] ุจูุงุก ุงูู Next.js static export: `next build && next export` | โฌ     |         |
| [ ] ูุฒุงููุฉ: `npx cap sync android`                              | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ุนูู Android Emulator                                 | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ุนูู ุฌูุงุฒ Android ุญูููู                               | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช ุงูุตูุชูุฉ ุนูู Android                        | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ Deep Linking                                         | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ Offline Mode                                         | โฌ     |         |
| [ ] ุจูุงุก Release AAB: `./gradlew bundleRelease`                 | โฌ     |         |

---

## ุงููุฑุญูุฉ 4: ุชุฌููุฒ Google Play Store Listing (1-2 ููู)

> **ุงูุณุจุจ:** Google Play ูุชุทูุจ ูุญุชูู ูุญุฏุฏ ููุจูู ุงูุชุทุจูู.

### 4.1 ุฅูุดุงุก ุญุณุงุจ Google Play Developer

| ุงููููุฉ                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------- | ------ | ------- |
| [ ] ุชุณุฌูู ุญุณุงุจ Google Play Developer ($25)   | โฌ     |         |
| [ ] ุฅุนุฏุงุฏ ููู ุงูุดุฑูุฉ/ุงููุทูุฑ                  | โฌ     |         |
| [ ] ุงูุชุญูู ูู ุงููููุฉ (Identity Verification) | โฌ     |         |

### 4.2 ุชุฌููุฒ ุงููุญุชูู ุงููุฑุฆู

| ุงููููุฉ                                                                   | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------------------ | ------ | ------- |
| [ ] ุชุตููู Feature Graphic (1024x500 px)                                  | โฌ     |         |
| [ ] ุชุตููู App Icon (512x512 px - ููุฌูุฏ ุจุงููุนู)                           | โฌ     |         |
| [ ] ุฃุฎุฐ Screenshots ููููุจุงูู (min 2, max 8) - ุฃุญุฌุงู ูุทููุจุฉ:              | โฌ     |         |
| - Phone: 16:9 ุฃู 9:16 (min 320px, max 3840px)                            |        |         |
| [ ] ุฃุฎุฐ Screenshots ููุชุงุจูุช 7" (ุงุฎุชูุงุฑู)                                 | โฌ     |         |
| [ ] ุฃุฎุฐ Screenshots ููุชุงุจูุช 10" (ุงุฎุชูุงุฑู)                                | โฌ     |         |
| [ ] ุชุญููู Screenshots ูู SVG ุฅูู PNG (ุงูุญุงููุฉ SVG ุบูุฑ ููุจููุฉ)            | โฌ     |         |
| [ ] ุงูุชุฃูุฏ ุฅู ุงูู Screenshots ุชุนุฑุถ ุฃุฌูุฒุฉ Android ููุท (ูุง iPhone mockups) | โฌ     |         |

### 4.3 ูุชุงุจุฉ ูุญุชูู ุงููุชุฌุฑ

| ุงููููุฉ                                              | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| --------------------------------------------------- | ------ | ------- |
| [ ] Short Description (ุญุชู 80 ุญุฑู) - ุนุฑุจู ูุฅูุฌููุฒู  | โฌ     |         |
| [ ] Full Description (ุญุชู 4000 ุญุฑู) - ุนุฑุจู ูุฅูุฌููุฒู | โฌ     |         |
| [ ] Privacy Policy URL (ููุฌูุฏ: `/ar/privacy`)       | โฌ     |         |
| [ ] ุฑุงุจุท ุงูุดุฑูุท ูุงูุฃุญูุงู                            | โฌ     |         |

**ููุชุฑุญ Short Description:**

```
AR: ุฅูุฌุฒูุง - ุงุทูุจ ุงุญุชูุงุฌุงุช ุจูุชู ูู ูุญูุงุช ุจูุฏู. ุชูุตูู ุณุฑูุน ุจุฃุณุนุงุฑ ุงููุญู!
EN: Engezna - Order daily essentials from local stores. Fast delivery at store prices!
```

### 4.4 ุฅุนุฏุงุฏ Content Rating ู Data Safety

| ุงููููุฉ                                                       | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------------------ | ------ | ------- |
| [ ] ููุก ุงุณุชุจูุงู Content Rating (IARC)                        | โฌ     |         |
| [ ] ููุก Data Safety Form (ูุฌุจ ูุทุงุจูุฉ Privacy Policy ุจุฏูุฉ):   | โฌ     |         |
| - Location data: ูุนู (ูุชุญุฏูุฏ ููุทูุฉ ุงูุชูุตูู)                  |        |         |
| - Personal info: ูุนู (ุงูุงุณูุ ุงููุงุชูุ ุงูุนููุงู)                |        |         |
| - Financial info: ูุนู (ุจูุงูุงุช ุงูุฏูุน ุนุจุฑ Paymob)              |        |         |
| - App activity: ูุนู (ุณุฌู ุงูุทูุจุงุช)                            |        |         |
| - Device identifiers: ูุนู (FCM tokens)                       |        |         |
| [ ] ูุฑุงุฌุนุฉ ุชุทุงุจู Data Safety ูุน ุณูุงุณุฉ ุงูุฎุตูุตูุฉ `/ar/privacy` | โฌ     |         |
| [ ] ุชุญุฏูุฏ Target Audience: 13+ (ุฎุฏูุฉ ุชูุตูู)                  | โฌ     |         |
| [ ] ุงุฎุชูุงุฑ App Category: Food & Drink                        | โฌ     |         |
| [ ] ุชุญุฏูุฏ ุงูุจูุฏุงู ุงููุณุชูุฏูุฉ: ูุตุฑ                             | โฌ     |         |

---

## ุงููุฑุญูุฉ 5: ุงูุงุฎุชุจุงุฑ ูุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ (2-3 ุฃูุงู)

### 5.1 ุงุฎุชุจุงุฑ ุดุงูู ูุจู ุงููุดุฑ

| ุงููููุฉ                                                   | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------------------------- | ------ | ------- |
| [ ] ุชุดุบูู ุฌููุน Unit Tests (270 test)                     | โฌ     |         |
| [ ] ุชุดุบูู Security Tests (76 test)                       | โฌ     |         |
| [ ] ุชุดุบูู E2E Tests                                      | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ูุฏูู ููู flow ุฃุณุงุณู:                          | โฌ     |         |
| - ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ โ ุชุตูุญ ุงููุชุงุฌุฑ โ ุฅุถุงูุฉ ููุณูุฉ โ ุทูุจ     |        |         |
| - ุชุณุฌูู ุฏุฎูู ูุฒูุฏ โ ุงุณุชูุจุงู ุทูุจ โ ูุจูู โ ุชุญุถูุฑ โ ุชูุตูู   |        |         |
| - ุฅุฑุณุงู ุฑุณุงูุฉ ูุญุงุฏุซุฉ โ ุงุณุชูุจุงู ุฅุดุนุงุฑ                     |        |         |
| - ุทูุจ ุงุณุชุฑุฌุงุน โ ุงูููุงููุฉ ุนููู                            |        |         |
| [ ] ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช ุจุงูุตูุช ุนูู 3 ุฃุฌูุฒุฉ ูุฎุชููุฉ ุนูู ุงูุฃูู | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ Offline mode ูุงูุนูุฏุฉ ููุงุชุตุงู                  | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ Deep Links                                    | โฌ     |         |

### 5.2 ูุฑุงุฌุนุฉ ุงูุฃุฏุงุก ุงูููุงุฆูุฉ

| ุงููููุฉ                                   | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ---------------------------------------- | ------ | ------- |
| [ ] Lighthouse Performance Score > 80    | โฌ     |         |
| [ ] Lighthouse Accessibility Score > 90  | โฌ     |         |
| [ ] Lighthouse Best Practices Score > 90 | โฌ     |         |
| [ ] Lighthouse SEO Score > 90            | โฌ     |         |
| [ ] APK Size < 50MB (ุงูุฃูุซู < 30MB)      | โฌ     |         |

### 5.3 ูุฑุงุฌุนุฉ ุฃูููุฉ ููุงุฆูุฉ

| ุงููููุฉ                                           | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------ | ------ | ------- |
| [ ] ุงูุชุฃูุฏ ูู ุฅุฒุงูุฉ ูู console.log ูู production | โฌ     |         |
| [ ] ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ API keys ููุดููุฉ           | โฌ     |         |
| [ ] ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ test data ูู production   | โฌ     |         |
| [ ] npm audit ุจุฏูู ุซุบุฑุงุช critical ุฃู high        | โฌ     |         |
| [ ] ุงูุชุฃูุฏ ุฅู ูู RLS policies ุดุบุงูุฉ              | โฌ     |         |

---

## ุงููุฑุญูุฉ 6: ุงููุดุฑ ุนูู Google Play (1-3 ุฃูุงู)

### 6.1 Internal Testing (ูุทููุจ ูุจู ุฃู ุฅุตุฏุงุฑ)

| ุงููููุฉ                                 | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| -------------------------------------- | ------ | ------- |
| [ ] ุฑูุน AAB ุนูู Internal Testing Track | โฌ     |         |
| [ ] ุฅุถุงูุฉ ูุฎุชุจุฑูู (5 ุนูู ุงูุฃูู)        | โฌ     |         |
| [ ] ุงุฎุชุจุงุฑ ุงูุชุซุจูุช ูุงูุชุดุบูู            | โฌ     |         |
| [ ] ุฌูุน feedback ูุงูุฅุตูุงุญ              | โฌ     |         |

### 6.2 Closed Testing (ุงุฎุชูุงุฑู ููู ููุถู)

| ุงููููุฉ                                      | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------- | ------ | ------- |
| [ ] ููู ููู Closed Testing Track            | โฌ     |         |
| [ ] ุฅุถุงูุฉ 20+ ูุฎุชุจุฑ ูู ุงููุณุชุฎุฏููู ุงูุญูููููู | โฌ     |         |
| [ ] ูุฑุงูุจุฉ Crash Reports ู ANRs             | โฌ     |         |
| [ ] ุฅุตูุงุญ ุฃู ูุดุงูู ููุชุดูุฉ                   | โฌ     |         |

### 6.3 Production Release

| ุงููููุฉ                                           | ุงูุญุงูุฉ | ุงูุชุงุฑูุฎ |
| ------------------------------------------------ | ------ | ------- |
| [ ] ุฅุฑุณุงู ูููุฑุงุฌุนุฉ (Google Review ูุฃุฎุฐ 1-7 ุฃูุงู) | โฌ     |         |
| [ ] Staged Rollout: 10% โ 25% โ 50% โ 100%       | โฌ     |         |
| [ ] ูุฑุงูุจุฉ ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช                  | โฌ     |         |
| [ ] ุงูุฑุฏ ุนูู ูุฑุงุฌุนุงุช ุงููุณุชุฎุฏููู                  | โฌ     |         |

---

## ููุญู: ููุงุญุธุงุช ููุฏุณูุฉ ุฅุถุงููุฉ

### ูุดุงูู ูุฌุจ ูุฑุงูุจุชูุง ุจุนุฏ ุงููุดุฑ

| ุงููุดููุฉ                                  | ุงูุญู ุงูููุชุฑุญ                                                | ุงูุญุงูุฉ    |
| ---------------------------------------- | ----------------------------------------------------------- | --------- |
| Double polling ูู ุงูุฅุดุนุงุฑุงุช              | ุฅุฒุงูุฉ ุงูู polling ุงูุฒุงุฆุฏ ูู `useNotifications.ts`           | โ ุชู     |
| Supabase client creation ูุชูุฑุฑ           | ุงุณุชุฎุฏุงู singleton pattern                                   | โฌ        |
| Memory leak ูุญุชูู ูู channel cleanup     | ุงุณุชุฎุฏุงู useRef ุจุฏู state ููู channel                        | โ ุชู     |
| Edge Functions ุบูุฑ ููุดูุฑุฉ                | ูุดุฑูุง ูุฑุจุทูุง ุจู database webhooks                           | โ๏ธ ุฌุฒุฆู   |
| ูุง ุตูุช ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ              | ุฅุถุงูุฉ ุตูุช order-update + ุฅุตูุงุญ polling                      | โ ุชู     |
| RLS ูุญุธุฑ ุฅูุดุงุก ุทูุจุงุช ุฎุงุตุฉ                | ุฅุถุงูุฉ ุณูุงุณุฉ INSERT ูุฑุชุจุทุฉ ุจูุงูู ุงูุจุซ                        | โ ุชู     |
| ุทูุจุงุช ุฎุงุตุฉ ููุชููุฉ ุชุธูุฑ ููุนููู            | ููุชุฑุฉ client-side + trigger + cron                          | โ ุชู     |
| ุญุงูุฉ ุงูุทูุจ ูุง ุชุชุญุฏุซ ุนูู ูุงุฑุช ุงูุชุงุฌุฑ      | auto-polling 15s + ุฅุตูุงุญ ุงุณู ุงูุญุงูุฉ                         | โ ุชู     |
| ุฃุตูุงู ุงูุทูุจ ุงูุฎุงุต ููููุฏุฉ ูู ุงูุชูุงุตูู     | ุฌูุจ ูู `custom_order_items` ุจุฏู `order_items`               | โ ุชู     |
| ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ุจุดูู ูุชูุฑุฑ          | ูุญุต localStorage ุฏุงุฎู timer effect                          | โ ุชู     |
| migrations ุบูุฑ ูุทุจูุฉ ุนูู ุงูุฅูุชุงุฌ         | ุชู ุชุทุจูููุง ุนุจุฑ SQL Editor (2/9)                             | โ ุชู     |
| SMS/WhatsApp notifications               | ุชูุตูู provider (Twilio/MessageBird) - ูุฑุญูุฉ ูุงุญูุฉ           | โฌ        |
| **Service Role JWT ููุดูู ูู 7 triggers** | **ุญุฐู โ + rotate โ + ุชุญุฏูุซ ูู ุงูุจูุฆุงุช โ (2/13)**         | **โ ุชู** |
| Kashier webhook ุจุฏูู signature ุฅูุฒุงููุฉ   | ุฅูุฒุงู ุงูุชูููุน ูุฑูุถ ุจุฏููู โ (2/13)                          | โ ุชู     |
| Promo validation ูุซู ุจู user_id ูู body  | ุฑุจุท ุจู session ุงููุนููุฉ โ (2/13)                            | โ ุชู     |
| ูุง ููุฌุฏ CSP header                       | ุฅุถุงูุฉ CSP report-only โ (2/13) - enforce ูุงุญูุงู            | ๐ ุฌุฒุฆู   |
| ุณูุงุณุงุช SELECT ูุงุณุนุฉ (promo, profiles)    | ุชุถููู RLS policies ุงูููุชูุญุฉ                                 | โ ุชู     |
| ุทูุจุงุช ููููุฉ (Phantom Orders)             | ุฅูุดุงุก ุงูุทูุจ ุจู pending_payment ูุจู Kashier โ (2/13)        | โ ุชู     |
| Kashier Refund API ููููุฏ                 | endpoint + Kashier API integration โ (2/13)                | โ ุชู     |
| Webhook duplicate processing             | idempotency + unique constraint + retry handling โ (2/13)  | โ ุชู     |
| CSRF middleware ุบูุฑ ููุนู                 | CSRF log-only ูู middleware โ (2/13) - enforce ูุงุญูุงู      | ๐ ุฌุฒุฆู   |
| ~80+ console.log ูู ุงูุฅูุชุงุฌ              | ูู API routes + lib/admin + email ุชู โ (2/13) - ุจูู client | ๐ ุฌุฒุฆู   |
| ุทูุจุงุช ูุนููุฉ ุจุงูุฏูุน ููุฃุจุฏ                 | cron job ูู 15 ุฏูููุฉ ูุชูุธูู pending_payment โ (2/13)       | โ ุชู     |
| ูููุงุช ูุจูุฑุฉ (>2000 ุณุทุฑ)                  | ุชูุณูู ุชุฏุฑูุฌู - ููุณ ุญุงุฌุฒุงู ูููุดุฑ                             | โฌ        |

### ูููุงุช ูุฑุฌุนูุฉ

| ุงูููู                                               | ุงููุญุชูู                                 |
| --------------------------------------------------- | --------------------------------------- |
| `docs/PRE_RELEASE_REVIEW_REPORT.md`                 | ุชูุฑูุฑ ูุฑุงุฌุนุฉ ูุง ูุจู ุงููุดุฑ ุงูุดุงูู (2/12) |
| `docs/LAUNCH_READINESS_CHECKLIST.md`                | ูุงุฆูุฉ ุฌุงูุฒูุฉ ุงูุฅุทูุงู ุงูุนุงูุฉ             |
| `docs/SECURITY_ISSUES_FOUND.md`                     | ุชูุฑูุฑ ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุงูููุชุดูุฉ          |
| `docs/features/FIREBASE_PUSH_NOTIFICATIONS_PLAN.md` | ุฎุทุฉ Firebase ุงูููุตูุฉ                    |
| `docs/MONITORING_SETUP.md`                          | ุฅุนุฏุงุฏ ุงููุฑุงูุจุฉ                          |
| `docs/QUALITY_LAYERS_ROADMAP.md`                    | ุฎุฑูุทุฉ ุทุจูุงุช ุงูุฌูุฏุฉ                      |

---

## ุณุฌู ุงูุชุญุฏูุซุงุช

| ุงูุชุงุฑูุฎ    | ุงูุชุญุฏูุซ                                                                                         | ุจูุงุณุทุฉ |
| ---------- | ----------------------------------------------------------------------------------------------- | ------ |
| 2026-02-08 | ุฅูุดุงุก ุงูุฎุทุฉ ุงูุดุงููุฉ                                                                             | Claude |
| 2026-02-08 | ุงุนุชูุงุฏ ุงูุฎุทุฉ + ุฅุถุงูุฉ ููุงุญุธุงุช ุงููุฑุงุฌุนุฉ (Screenshots, Data Safety)                                | Owner  |
| 2026-02-08 | ุชูููุฐ ุงููุฑุญูุฉ 0 ุจุงููุงูู (ุฃูุงู Firebase, jspdf, test accounts, RBAC)                             | Claude |
| 2026-02-08 | ุชูููุฐ ุงููุฑุญูุฉ 1 ุจุงููุงูู (AudioManager, VAPID, notifications, preferences UI)                    | Claude |
| 2026-02-09 | ุฅุตูุงุญ ุตูุช ุฅุดุนุงุฑุงุช ุญุงูุฉ ุงูุทูุจ + ุฅุฒุงูุฉ double polling + webhook sync                              | Claude |
| 2026-02-09 | ุฅุตูุงุญ ูุธุงู ุงูุทูุจุงุช ุงูุฎุงุตุฉ: auto-archive, RLS, ุญุงูุงุช, ุฃุตูุงู, ุฅุดุนุงุฑุงุช (1.9)                       | Claude |
| 2026-02-09 | ุชูุงุณู ุชุตููู ูุฑูุช ุงูุทูุจุงุช ุงูุฎุงุตุฉ + ุฒุฑ ุชุฃููุฏ ุงูุฏูุน ุนูู ุงููุงุฑุช (1.10)                              | Claude |
| 2026-02-12 | ูุฑุงุฌุนุฉ ุนูููุฉ ุดุงููุฉ: ุฃูุงูุ ููุฏุ ุชุฏููุงุช ุชุฌุงุฑูุฉุ ุฌุงูุฒูุฉ Capacitor                                  | Claude |
| 2026-02-12 | ุฅุถุงูุฉ ุงููุฑุญูุฉ 1.5 (8 ููุงู ุญุฑุฌุฉ ููุชุดูุฉ) + ุชูุฑูุฑ PRE_RELEASE_REVIEW_REPORT.md                     | Claude |
| 2026-02-12 | ุชุฃููุฏ ุชุณุฑูุจ Service Role JWT ูู 7 triggers (ูู SQL ุญูููู) + ุฏูุฌ ุงูุชุดุงูุงุช Codex                  | Claude |
| 2026-02-13 | ุชูููุฐ 1.5.0 (ุญุฐู triggers) + 1.5.5 + 1.5.7 + 1.5.8 + 1.5.9 (ุฅุตูุงุญุงุช ููุฏ ุญุฑุฌุฉ)                   | Claude |
| 2026-02-13 | ุชูููุฐ 1.5.1 (ุฅุตูุงุญ Phantom Orders) + 1.5.6 (cron ุชูุธูู ุงูุทูุจุงุช ุงููุนููุฉ)                         | Claude |
| 2026-02-13 | ุชูููุฐ 1.5.2 (Refund API) + 1.5.3 (Webhook idempotency) + 1.5.4 (CSRF) + 1.5.5 (console cleanup) | Claude |
| 2026-02-13 | ุชู Rotate Service Role Key + ุชุญุฏูุซ Supabase Dashboard + Vercel + GitHub Secrets                 | Owner  |
