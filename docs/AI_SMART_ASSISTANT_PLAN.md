# ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ - Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„Ø©
# Engezna AI Smart Assistant - Development Plan

**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.1
**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** December 11, 2025
**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** December 11, 2025 (Ø¥Ø¶Ø§ÙØ© Claude Code Prompt)
**Ø§Ù„Ø­Ø§Ù„Ø©:** Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ®Ø·ÙŠØ·
**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:** Ø¹Ø§Ù„ÙŠØ© (Ù…ÙŠØ²Ø© ØªÙ†Ø§ÙØ³ÙŠØ© Ø±Ø¦ÙŠØ³ÙŠØ©)

---

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#-Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#-Ø£Ù‡Ø¯Ø§Ù-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
3. [Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ](#-Ù‚Ø¯Ø±Ø§Øª-Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯-Ø§Ù„Ø°ÙƒÙŠ)
4. [Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#-Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)
5. [ØªØ¯ÙÙ‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©](#-ØªØ¯ÙÙ‚-Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©)
6. [Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù€ Context](#-Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª-ÙˆØ§Ù„Ù€-context)
7. [Ø§Ù„Ù€ Prompts ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©](#-Ø§Ù„Ù€-prompts-ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©)
8. [ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…](#-ÙˆØ§Ø¬Ù‡Ø©-Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
9. [Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°](#-Ø®Ø·Ø©-Ø§Ù„ØªÙ†ÙÙŠØ°)
10. [Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù†Ø¬Ø§Ø­](#-Ù…Ø¹Ø§ÙŠÙŠØ±-Ø§Ù„Ù†Ø¬Ø§Ø­)
11. [Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„Ø­Ù„ÙˆÙ„](#-Ø§Ù„Ù…Ø®Ø§Ø·Ø±-ÙˆØ§Ù„Ø­Ù„ÙˆÙ„)
12. [Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯](#-Ø§Ù„ØªÙƒÙ„ÙØ©-ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯)
13. [ğŸ¤– Claude Code Implementation Prompt](#-claude-code-implementation-prompt) â­ **Ø¬Ø¯ÙŠØ¯**

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

### Ù…Ø§ Ù‡Ùˆ Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠØŸ

Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø­Ø§Ø¯Ø«Ø© Ø°ÙƒÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¹Ù…Ù„Ø§Ø¡ Ø¥Ù†Ø¬Ø²Ù†Ø§ ÙÙŠ:
- ÙÙ‡Ù… Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙ‡Ù… Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©
- Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
- Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
- Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø³Ù„Ø§Ø³Ø©

### Ù„Ù…Ø§Ø°Ø§ Ù†Ø­ØªØ§Ø¬Ù‡ØŸ

| Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© | Ø§Ù„Ø­Ù„ Ø¨Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ |
|-----------------|---------------------|
| Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„Ø§ ÙŠØ¹Ø±Ù Ù…Ø§Ø°Ø§ ÙŠØ£ÙƒÙ„ | Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªÙØ¶ÙŠÙ„Ø§ØªÙ‡ |
| ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø·Ø§Ø¹Ù… | Ù…Ù‚Ø§Ø±Ù†Ø© ÙÙˆØ±ÙŠØ© Ù…Ø¹ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ |
| Ù†Ø³ÙŠØ§Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø© | Ø§Ø³ØªØ­Ø¶Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© |
| ØªØ¬Ø±Ø¨Ø© Ø¨Ø­Ø« Ù…Ù…Ù„Ø© | Ù…Ø­Ø§Ø¯Ø«Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ© |
| Ø¹Ø¯Ù… Ø§ÙƒØªØ´Ø§Ù Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© | Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…ØªÙ†Ø§Ø³Ù‚Ø© ÙˆÙ…ÙƒÙ…Ù„Ø© |

### Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø·Ù„Ø¨Ø§Øª â‰  Ù„Ø¯ÙŠÙ‡Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø¯Ø±Ø§Øª                      â”‚
â”‚  Ù†ÙˆÙ† ÙÙˆØ¯ â‰  Ù„Ø¯ÙŠÙ‡Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø¯Ø±Ø§Øª                    â”‚
â”‚  Ø¥Ù†Ø¬Ø²Ù†Ø§ âœ“ Ø£ÙˆÙ„ Ù…Ù†ØµØ© ÙÙŠ ØµØ¹ÙŠØ¯ Ù…ØµØ± Ø¨Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…ØªÙƒØ§Ù…Ù„           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„Ù‡Ø¯Ù | Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ | Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù |
|-------|---------|----------|
| Ø²ÙŠØ§Ø¯Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ | Orders via Assistant / Total Orders | > 15% |
| Ø²ÙŠØ§Ø¯Ø© Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ | AOV with Assistant vs Without | +20% |
| ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | NPS Score | > 8/10 |
| ØªÙ‚Ù„ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨ | Time to Order | -40% |
| Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© | Repeat Orders | +25% |

### Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©

- âœ… Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- âœ… ÙÙ‡Ù… Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ
- âœ… ØªØ­Ø³ÙŠÙ† ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- âœ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ

---

## ğŸ§  Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ

### 1. ÙÙ‡Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© (NLU)

```
Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙÙ‡Ù…Ù‡Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯:
â”œâ”€â”€ Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©: "Ø¹Ø§ÙŠØ² 2 Ø´Ø§ÙˆØ±Ù…Ø§ ÙØ±Ø§Ø®"
â”œâ”€â”€ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰: "Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ ÙˆØ¬Ø¨Ø© ØºØ¯Ø§Ø¡"
â”œâ”€â”€ Ø§Ù„Ù…Ø®ØªÙ„Ø·: "Ø¹Ø§ÙŠØ² delivery Ù„Ø¨ÙŠØªÙŠ"
â”œâ”€â”€ Ø§Ù„ØºØ§Ù…Ø¶: "Ø¬Ø¹Ø§Ù†" â†’ ÙŠØ³Ø£Ù„ Ø¹Ù† Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
â””â”€â”€ Ø§Ù„Ù…Ø­Ø¯Ø¯: "Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø© Ù…Ù† Ø³Ù„Ø·Ø§Ù†"
```

#### Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙÙ‡Ù…:

| Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ„ | ÙÙ‡Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ |
|--------------|-------------|
| "Ø¹Ø§ÙŠØ² Ø£ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø­Ù„ÙˆØ©" | Intent: Ø·Ù„Ø¨ Ø­Ù„ÙˆÙŠØ§Øª/Ù…Ø´Ø±ÙˆØ¨Ø§Øª |
| "Ø¬ÙˆØ¹Ø§Ù† ÙˆÙ…Ø´ Ø¹Ø§Ø±Ù Ø¢ÙƒÙ„ Ø¥ÙŠÙ‡" | Intent: Ø·Ù„Ø¨ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª |
| "Ø²ÙŠ Ø§Ù„Ù„ÙŠ Ø·Ù„Ø¨ØªÙ‡ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù„ÙŠ ÙØ§ØªØª" | Intent: Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨ Ø³Ø§Ø¨Ù‚ |
| "Ø¹Ù†Ø¯ÙƒÙ… ÙƒÙØªØ©ØŸ" | Intent: Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯ |
| "Ø£Ø±Ø®Øµ Ù…Ø·Ø¹Ù… Ø¹Ù†Ø¯Ù‡ Ø¨Ø±Ø¬Ø±" | Intent: Ø¨Ø­Ø« Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ø¹Ø±ÙŠØ© |
| "Ø£Ø³Ø±Ø¹ Ø­Ø¯ ÙŠÙˆØµÙ„Ù†ÙŠ" | Intent: Ø¨Ø­Ø« Ù…Ø¹ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø³Ø±Ø¹Ø© |

### 2. Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…

```typescript
// Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
interface ComparisonCapabilities {
  // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
  priceComparison: {
    sameProduct: "Ø¨Ø±Ø¬Ø± ÙÙŠ Ù…Ø·Ø¹Ù… Ø£ = 50 Ø¬.Ù… vs Ù…Ø·Ø¹Ù… Ø¨ = 45 Ø¬.Ù…";
    valueForMoney: "Ù…Ø·Ø¹Ù… Ø¨ Ø£Ø±Ø®Øµ 10% Ù…Ø¹ Ù†ÙØ³ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…";
  };
  
  // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©
  qualityComparison: {
    ratings: "Ù…Ø·Ø¹Ù… Ø£: 4.8â˜… (150 ØªÙ‚ÙŠÙŠÙ…) vs Ù…Ø·Ø¹Ù… Ø¨: 4.5â˜… (80 ØªÙ‚ÙŠÙŠÙ…)";
    reviews: "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙŠÙ…Ø¯Ø­ÙˆÙ† Ø·Ø¹Ù… Ø§Ù„ØµÙˆØµ ÙÙŠ Ù…Ø·Ø¹Ù… Ø£";
  };
  
  // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ØªÙˆØµÙŠÙ„
  deliveryComparison: {
    time: "Ù…Ø·Ø¹Ù… Ø£: 25 Ø¯Ù‚ÙŠÙ‚Ø© vs Ù…Ø·Ø¹Ù… Ø¨: 40 Ø¯Ù‚ÙŠÙ‚Ø©";
    fee: "Ù…Ø·Ø¹Ù… Ø£: 10 Ø¬.Ù… vs Ù…Ø·Ø¹Ù… Ø¨: 15 Ø¬.Ù…";
    minimum: "Ù…Ø·Ø¹Ù… Ø£: Ø­Ø¯ Ø£Ø¯Ù†Ù‰ 50 Ø¬.Ù… vs Ù…Ø·Ø¹Ù… Ø¨: Ø¨Ø¯ÙˆÙ† Ø­Ø¯ Ø£Ø¯Ù†Ù‰";
  };
}
```

#### Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©:

```
ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¹Ø§ÙŠØ² Ø¨Ø±Ø¬Ø± ÙƒÙˆÙŠØ³

ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: Ù„Ù‚ÙŠØªÙ„Ùƒ 3 Ø®ÙŠØ§Ø±Ø§Øª Ù„Ù„Ø¨Ø±Ø¬Ø± ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ:

ğŸ¥‡ Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§
   â€¢ Ø¨Ø±Ø¬Ø± Ù„Ø­Ù…Ø©: 55 Ø¬.Ù…
   â€¢ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 4.8â˜… (130 ØªÙ‚ÙŠÙŠÙ…)
   â€¢ Ø§Ù„ØªÙˆØµÙŠÙ„: 15 Ø¯Ù‚ÙŠÙ‚Ø© | 8 Ø¬.Ù…
   â€¢ âœ¨ Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹

ğŸ¥ˆ Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±  
   â€¢ Ø¨Ø±Ø¬Ø± Ù„Ø­Ù…Ø©: 45 Ø¬.Ù…
   â€¢ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 4.5â˜… (90 ØªÙ‚ÙŠÙŠÙ…)
   â€¢ Ø§Ù„ØªÙˆØµÙŠÙ„: 25 Ø¯Ù‚ÙŠÙ‚Ø© | 10 Ø¬.Ù…
   â€¢ ğŸ’° Ø§Ù„Ø£Ø±Ø®Øµ

ğŸ¥‰ ÙƒØ§ÙÙŠÙ‡ Ù„Ø§ÙÙ†Ø¯Ø±
   â€¢ Ø¨Ø±Ø¬Ø± ÙØ±Ø§Ø®: 40 Ø¬.Ù…
   â€¢ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 4.3â˜… (60 ØªÙ‚ÙŠÙŠÙ…)
   â€¢ Ø§Ù„ØªÙˆØµÙŠÙ„: 20 Ø¯Ù‚ÙŠÙ‚Ø© | 5 Ø¬.Ù…
   â€¢ ğŸš€ Ø£Ù‚Ù„ Ø±Ø³ÙˆÙ… ØªÙˆØµÙŠÙ„

Ø£Ù†ØµØ­Ùƒ Ø¨Ù€ "Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§" Ù„Ùˆ Ø§Ù„Ø¬ÙˆØ¯Ø© Ø£Ù‡Ù…ØŒ Ø£Ùˆ "Ø§Ù„Ø£Ù…ÙŠØ±" Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªÙˆÙØ±.
ØªØ­Ø¨ ØªØ®ØªØ§Ø± Ø£ÙŠ ÙˆØ§Ø­Ø¯ØŸ
```

### 3. Ø§Ø³ØªØ­Ø¶Ø§Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©

```typescript
// ØªØ­Ù„ÙŠÙ„ Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¹Ù…ÙŠÙ„
interface CustomerBehaviorAnalysis {
  // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
  orderHistory: {
    totalOrders: number;
    favoriteProviders: Provider[];
    favoriteProducts: Product[];
    averageOrderValue: number;
    preferredPaymentMethod: string;
    usualOrderTime: string; // "Ù…Ø³Ø§Ø¡Ù‹" | "Ø¸Ù‡Ø±Ø§Ù‹"
    usualOrderDays: string[]; // ["Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ø³Ø¨Øª"]
  };
  
  // Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªÙ†ØªØ¬Ø©
  inferredPreferences: {
    cuisineTypes: string[]; // ["Ù…ØµØ±ÙŠ", "Ø¥ÙŠØ·Ø§Ù„ÙŠ"]
    priceRange: "budget" | "mid" | "premium";
    dietaryRestrictions: string[]; // ["Ù†Ø¨Ø§ØªÙŠ", "Ø¨Ø¯ÙˆÙ† Ù„Ø­Ù… Ø®Ù†Ø²ÙŠØ±"]
    spiceLevel: "mild" | "medium" | "spicy";
  };
  
  // Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ù„Ø¨
  patterns: {
    reorderRate: number; // Ù†Ø³Ø¨Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨
    explorationRate: number; // Ù†Ø³Ø¨Ø© ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
    averageItemsPerOrder: number;
  };
}
```

#### Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø³ÙŠØ§Ù‚:

```
ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¹Ø§ÙŠØ² Ø£Ø·Ù„Ø¨ Ø£ÙƒÙ„

ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: Ø£Ù‡Ù„Ø§Ù‹ Ø£Ø­Ù…Ø¯! ğŸ‘‹

Ù„Ø§Ø­Ø¸Øª Ø¥Ù†Ùƒ Ø¨ØªØ­Ø¨ Ø§Ù„Ø¨ÙŠØªØ²Ø§ Ù…Ù† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ ğŸ•
Ø¢Ø®Ø± 3 Ø·Ù„Ø¨Ø§Øª ÙƒØ§Ù†Øª:
â€¢ Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø© (3 Ù…Ø±Ø§Øª)
â€¢ Ù…Ø´Ø±ÙˆÙ… Ø¨Ø±Ø¬Ø± (Ù…Ø±ØªÙŠÙ†)

ØªØ­Ø¨ ØªÙƒØ±Ø± Ø·Ù„Ø¨Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ØŸ
Ø£Ùˆ Ø¹Ø§ÙŠØ² ØªØ¬Ø±Ø¨ Ø­Ø§Ø¬Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ

[ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø¢Ø®Ø± Ø·Ù„Ø¨] [ğŸ†• Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©] [ğŸ” Ø¨Ø­Ø«]
```

### 4. Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªÙ†Ø§Ø³Ù‚Ø©

```typescript
// Ù…Ù†Ø·Ù‚ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
interface ProductSuggestionLogic {
  // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…ÙƒÙ…Ù„Ø©
  complementary: {
    // Ø¥Ø°Ø§ Ø·Ù„Ø¨ Ø¨ÙŠØªØ²Ø§
    pizza: ["Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ", "Ø³Ù„Ø·Ø©", "Ø­Ù„ÙˆÙŠØ§Øª"];
    // Ø¥Ø°Ø§ Ø·Ù„Ø¨ Ø¨Ø±Ø¬Ø±
    burger: ["Ø¨Ø·Ø§Ø·Ø³", "ÙƒÙˆÙ„Ø§", "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…"];
    // Ø¥Ø°Ø§ Ø·Ù„Ø¨ Ø´Ø§ÙˆØ±Ù…Ø§
    shawarma: ["Ø¨Ø·Ø§Ø·Ø³", "Ø¹ÙŠØ´", "Ø·Ø­ÙŠÙ†Ø©"];
  };
  
  // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù„ÙˆÙƒ
  behaviorBased: {
    // Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙŠØ·Ù„Ø¨ Ù…Ø´Ø±ÙˆØ¨
    alwaysOrdersDrink: true;
    // Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ­Ø¨ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª
    likesDesserts: true;
    // Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠÙØ¶Ù„ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª
    prefersMeals: true;
  };
  
  // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙ‚Øª
  timeBased: {
    breakfast: ["ÙÙˆÙ„", "ÙÙ„Ø§ÙÙ„", "Ø¨ÙŠØ¶"];
    lunch: ["Ø£Ø±Ø²", "Ù…Ø´ÙˆÙŠØ§Øª", "Ø·ÙˆØ§Ø¬Ù†"];
    dinner: ["Ø¨ÙŠØªØ²Ø§", "Ø¨Ø±Ø¬Ø±", "Ø´Ø§ÙˆØ±Ù…Ø§"];
    lateNight: ["Ø³Ù†Ø§ÙƒØ³", "Ø­Ù„ÙˆÙŠØ§Øª", "Ù…Ø´Ø±ÙˆØ¨Ø§Øª"];
  };
  
  // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¶
  promotionBased: {
    // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù„ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø®ØµÙ…
    discountedItems: Product[];
    // Ø§Ù„ÙƒÙˆÙ…Ø¨Ùˆ ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶
    combos: Combo[];
  };
}
```

### 5. Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©

```
ØªØ¯ÙÙ‚ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Ø¬Ù…Ø¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨ Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©                          â”‚
â”‚     â””â”€â”€ ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª ÙÙŠ orderDraft                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©                                â”‚
â”‚     â”œâ”€â”€ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª                                  â”‚
â”‚     â”œâ”€â”€ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª                                  â”‚
â”‚     â”œâ”€â”€ Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„                                       â”‚
â”‚     â””â”€â”€ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Ø·Ù„Ø¨ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„                                       â”‚
â”‚     â”œâ”€â”€ âœ… Ù…ÙˆØ§ÙÙ‚ â†’ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©                             â”‚
â”‚     â”œâ”€â”€ âœï¸ ØªØ¹Ø¯ÙŠÙ„ â†’ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ§Øª/Ø§Ù„Ø­Ø°Ù                     â”‚
â”‚     â””â”€â”€ âŒ Ø¥Ù„ØºØ§Ø¡ â†’ Ø¥Ù†Ù‡Ø§Ø¡ Ø¨Ø¯ÙˆÙ† Ø¥Ø¶Ø§ÙØ©                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©                                            â”‚
â”‚     â”œâ”€â”€ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ addToCart Ù„ÙƒÙ„ Ù…Ù†ØªØ¬                         â”‚
â”‚     â”œâ”€â”€ Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­                                     â”‚
â”‚     â””â”€â”€ Ø§Ù‚ØªØ±Ø§Ø­ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### 1. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Next.js)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ChatFAB    â”‚  â”‚  TextChat   â”‚  â”‚  OrderSummaryModal      â”‚ â”‚
â”‚  â”‚  (Ø§Ù„Ø²Ø±)     â”‚  â”‚  (Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©) â”‚  â”‚  (Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                       â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                          â”‚                                       â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚                   â”‚ useAIChat   â”‚ (React Hook)                   â”‚
â”‚                   â”‚ Hook        â”‚                                â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚  API Route  â”‚ /api/chat
                    â”‚             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenAI API   â”‚  â”‚  Supabase     â”‚  â”‚  Cart Store   â”‚
â”‚  (GPT-4)      â”‚  â”‚  (Database)   â”‚  â”‚  (Zustand)    â”‚
â”‚               â”‚  â”‚               â”‚  â”‚               â”‚
â”‚  â€¢ NLU        â”‚  â”‚  â€¢ Products   â”‚  â”‚  â€¢ Add Items  â”‚
â”‚  â€¢ Response   â”‚  â”‚  â€¢ Providers  â”‚  â”‚  â€¢ Update     â”‚
â”‚  â€¢ Suggestionsâ”‚  â”‚  â€¢ Orders     â”‚  â”‚  â€¢ Clear      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ Customers  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### Ø£. API Route (`/api/chat/route.ts`)

```typescript
// src/app/api/chat/route.ts

import { OpenAI } from 'openai';
import { createClient } from '@/lib/supabase/server';
import { buildContext } from '@/lib/ai/context-builder';
import { parseIntent } from '@/lib/ai/intent-parser';
import { generateResponse } from '@/lib/ai/response-generator';

export async function POST(request: Request) {
  const { message, conversationHistory, userId } = await request.json();
  
  // 1. Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ù‚
  const context = await buildContext(userId);
  
  // 2. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙŠØ©
  const intent = await parseIntent(message, conversationHistory);
  
  // 3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
  const relevantData = await fetchRelevantData(intent, context);
  
  // 4. ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯
  const response = await generateResponse({
    message,
    intent,
    context,
    relevantData,
    conversationHistory,
  });
  
  // 5. Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø±Ø¯ Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
  return Response.json({
    message: response.text,
    actions: response.actions, // ["add_to_cart", "show_products", etc.]
    products: response.products,
    orderDraft: response.orderDraft,
  });
}
```

#### Ø¨. Context Builder (`/lib/ai/context-builder.ts`)

```typescript
// src/lib/ai/context-builder.ts

import { createClient } from '@/lib/supabase/server';

export interface AIContext {
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
  customer: {
    id: string;
    name: string;
    city: string;
    governorate: string;
  };
  
  // Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
  orderHistory: {
    recentOrders: Order[];
    favoriteProducts: Product[];
    favoriteProviders: Provider[];
    totalOrders: number;
    averageOrderValue: number;
  };
  
  // Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªÙ†ØªØ¬Ø©
  preferences: {
    cuisineTypes: string[];
    priceRange: string;
    usualOrderTime: string;
  };
  
  // Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
  currentContext: {
    time: string; // "ØµØ¨Ø§Ø­" | "Ø¸Ù‡Ø±" | "Ù…Ø³Ø§Ø¡" | "Ù„ÙŠÙ„"
    dayOfWeek: string;
    activePromotions: Promotion[];
    nearbyProviders: Provider[];
  };
}

export async function buildContext(userId: string): Promise<AIContext> {
  const supabase = createClient();
  
  // Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
  const { data: customer } = await supabase
    .from('profiles')
    .select(`
      *,
      governorates (name_ar),
      cities (name_ar)
    `)
    .eq('id', userId)
    .single();
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
  const { data: orders } = await supabase
    .from('orders')
    .select(`
      *,
      order_items (
        *,
        menu_items (*)
      ),
      providers (name_ar, category)
    `)
    .eq('customer_id', userId)
    .order('created_at', { ascending: false })
    .limit(20);
  
  // ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
  const preferences = analyzePreferences(orders);
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©
  const { data: providers } = await supabase
    .from('providers')
    .select('*')
    .eq('city_id', customer?.city_id)
    .eq('status', 'approved');
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù†Ø´Ø·Ø©
  const { data: promotions } = await supabase
    .from('promotions')
    .select('*')
    .eq('is_active', true)
    .gte('end_date', new Date().toISOString());
  
  return {
    customer: {
      id: userId,
      name: customer?.full_name?.split(' ')[0] || 'Ø¹Ù…ÙŠÙ„',
      city: customer?.cities?.name_ar || 'Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ',
      governorate: customer?.governorates?.name_ar || 'Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ',
    },
    orderHistory: {
      recentOrders: orders?.slice(0, 5) || [],
      favoriteProducts: extractFavoriteProducts(orders),
      favoriteProviders: extractFavoriteProviders(orders),
      totalOrders: orders?.length || 0,
      averageOrderValue: calculateAverageOrderValue(orders),
    },
    preferences,
    currentContext: {
      time: getCurrentTimeOfDay(),
      dayOfWeek: getCurrentDayArabic(),
      activePromotions: promotions || [],
      nearbyProviders: providers || [],
    },
  };
}

// Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
function analyzePreferences(orders: any[]): AIContext['preferences'] {
  // ØªØ­Ù„ÙŠÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù…ÙØ¶Ù„Ø©
  const cuisineCount: Record<string, number> = {};
  const prices: number[] = [];
  const orderTimes: number[] = [];
  
  orders?.forEach(order => {
    // ØªØ­Ù„ÙŠÙ„ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø·Ø¹Ù…
    const category = order.providers?.category;
    if (category) {
      cuisineCount[category] = (cuisineCount[category] || 0) + 1;
    }
    
    // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
    prices.push(order.total);
    
    // ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø·Ù„Ø¨
    const hour = new Date(order.created_at).getHours();
    orderTimes.push(hour);
  });
  
  // Ø£ÙƒØ«Ø± Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù… Ø·Ù„Ø¨Ø§Ù‹
  const cuisineTypes = Object.entries(cuisineCount)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 3)
    .map(([type]) => type);
  
  // Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø¹Ø±
  const avgPrice = prices.reduce((a, b) => a + b, 0) / prices.length || 0;
  const priceRange = avgPrice < 50 ? 'budget' : avgPrice < 100 ? 'mid' : 'premium';
  
  // ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø¹ØªØ§Ø¯
  const avgHour = Math.round(orderTimes.reduce((a, b) => a + b, 0) / orderTimes.length) || 12;
  const usualOrderTime = avgHour < 12 ? 'ØµØ¨Ø§Ø­Ø§Ù‹' : avgHour < 17 ? 'Ø¸Ù‡Ø±Ø§Ù‹' : 'Ù…Ø³Ø§Ø¡Ù‹';
  
  return { cuisineTypes, priceRange, usualOrderTime };
}

function getCurrentTimeOfDay(): string {
  const hour = new Date().getHours();
  if (hour >= 5 && hour < 12) return 'ØµØ¨Ø§Ø­';
  if (hour >= 12 && hour < 17) return 'Ø¸Ù‡Ø±';
  if (hour >= 17 && hour < 22) return 'Ù…Ø³Ø§Ø¡';
  return 'Ù„ÙŠÙ„';
}

function getCurrentDayArabic(): string {
  const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
  return days[new Date().getDay()];
}
```

#### Ø¬. Intent Parser (`/lib/ai/intent-parser.ts`)

```typescript
// src/lib/ai/intent-parser.ts

import { OpenAI } from 'openai';

export type IntentType = 
  | 'search_product'      // Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ù…Ø­Ø¯Ø¯
  | 'search_provider'     // Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø¹Ù… Ù…Ø­Ø¯Ø¯
  | 'browse_category'     // ØªØµÙØ­ ÙØ¦Ø©
  | 'compare'             // Ù…Ù‚Ø§Ø±Ù†Ø©
  | 'reorder'             // Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨ Ø³Ø§Ø¨Ù‚
  | 'get_recommendations' // Ø·Ù„Ø¨ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
  | 'add_to_order'        // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ
  | 'modify_order'        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
  | 'confirm_order'       // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
  | 'cancel_order'        // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨
  | 'ask_question'        // Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù…
  | 'greeting'            // ØªØ­ÙŠØ©
  | 'unclear';            // ØºÙŠØ± ÙˆØ§Ø¶Ø­

export interface ParsedIntent {
  type: IntentType;
  confidence: number;
  entities: {
    products?: string[];
    providers?: string[];
    quantities?: number[];
    categories?: string[];
    priceRange?: { min?: number; max?: number };
    attributes?: string[]; // ["Ø­Ø§Ø±", "Ù†Ø¨Ø§ØªÙŠ", "Ø¨Ø¯ÙˆÙ† Ø¨ØµÙ„"]
    sortBy?: 'price' | 'rating' | 'delivery_time' | 'distance';
  };
}

const openai = new OpenAI();

export async function parseIntent(
  message: string,
  conversationHistory: Message[]
): Promise<ParsedIntent> {
  const response = await openai.chat.completions.create({
    model: 'gpt-4o-mini',
    messages: [
      {
        role: 'system',
        content: `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ù†ÙˆØ§ÙŠØ§ Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø·Ø¹Ø§Ù… ÙÙŠ Ù…ØµØ±.
        
        Ø­Ù„Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ£Ø±Ø¬Ø¹ JSON Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙƒÙ„:
        {
          "type": "Ù†ÙˆØ¹ Ø§Ù„Ù†ÙŠØ©",
          "confidence": 0.0-1.0,
          "entities": {
            "products": ["Ø§Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª"],
            "providers": ["Ø§Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…"],
            "quantities": [Ø§Ù„ÙƒÙ…ÙŠØ§Øª],
            "categories": ["Ø§Ù„ÙØ¦Ø§Øª"],
            "priceRange": {"min": Ø±Ù‚Ù…, "max": Ø±Ù‚Ù…},
            "attributes": ["ØµÙØ§Øª Ù…Ø«Ù„ Ø­Ø§Ø±ØŒ Ù†Ø¨Ø§ØªÙŠ"],
            "sortBy": "price|rating|delivery_time"
          }
        }
        
        Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù†ÙˆØ§ÙŠØ§ Ø§Ù„Ù…ØªØ§Ø­Ø©:
        - search_product: Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ (Ù…Ø«Ø§Ù„: "Ø¹Ø§ÙŠØ² Ø¨ÙŠØªØ²Ø§")
        - search_provider: Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø¹Ù… (Ù…Ø«Ø§Ù„: "ÙÙŠÙ† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§")
        - browse_category: ØªØµÙØ­ ÙØ¦Ø© (Ù…Ø«Ø§Ù„: "Ø¹Ø§ÙŠØ² Ø£Ø´ÙˆÙ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…")
        - compare: Ù…Ù‚Ø§Ø±Ù†Ø© (Ù…Ø«Ø§Ù„: "Ù…ÙŠÙ† Ø£Ø­Ø³Ù† ÙÙŠ Ø§Ù„Ø¨Ø±Ø¬Ø±")
        - reorder: Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨ (Ù…Ø«Ø§Ù„: "Ø²ÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù„ÙŠ ÙØ§ØªØª")
        - get_recommendations: Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª (Ù…Ø«Ø§Ù„: "Ø§Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠØ§ Ø­Ø§Ø¬Ø©")
        - add_to_order: Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø·Ù„Ø¨ (Ù…Ø«Ø§Ù„: "Ø¶ÙŠÙ ÙƒÙ…Ø§Ù† 2 ÙƒÙˆÙ„Ø§")
        - modify_order: ØªØ¹Ø¯ÙŠÙ„ (Ù…Ø«Ø§Ù„: "ØºÙŠØ± Ø§Ù„ÙƒÙ…ÙŠØ© Ù„Ù€ 3")
        - confirm_order: ØªØ£ÙƒÙŠØ¯ (Ù…Ø«Ø§Ù„: "ØªÙ…Ø§Ù… ÙƒØ¯Ù‡")
        - cancel_order: Ø¥Ù„ØºØ§Ø¡ (Ù…Ø«Ø§Ù„: "Ù…Ø´ Ø¹Ø§ÙŠØ²")
        - ask_question: Ø³Ø¤Ø§Ù„ (Ù…Ø«Ø§Ù„: "Ø¥ÙŠÙ‡ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„")
        - greeting: ØªØ­ÙŠØ© (Ù…Ø«Ø§Ù„: "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…")
        - unclear: ØºÙŠØ± ÙˆØ§Ø¶Ø­`
      },
      ...conversationHistory.map(m => ({
        role: m.role as 'user' | 'assistant',
        content: m.content
      })),
      {
        role: 'user',
        content: message
      }
    ],
    response_format: { type: 'json_object' },
    temperature: 0.3,
  });
  
  return JSON.parse(response.choices[0].message.content || '{}');
}
```

#### Ø¯. Response Generator (`/lib/ai/response-generator.ts`)

```typescript
// src/lib/ai/response-generator.ts

import { OpenAI } from 'openai';
import { AIContext } from './context-builder';
import { ParsedIntent } from './intent-parser';

export interface AIResponse {
  text: string;
  actions: string[];
  products?: Product[];
  providers?: Provider[];
  orderDraft?: OrderDraft;
  suggestions?: string[];
}

export interface OrderDraft {
  items: {
    productId: string;
    productName: string;
    providerId: string;
    providerName: string;
    quantity: number;
    price: number;
    variants?: { name: string; price: number }[];
  }[];
  subtotal: number;
  deliveryFee: number;
  total: number;
}

const openai = new OpenAI();

export async function generateResponse(params: {
  message: string;
  intent: ParsedIntent;
  context: AIContext;
  relevantData: any;
  conversationHistory: Message[];
}): Promise<AIResponse> {
  const { message, intent, context, relevantData, conversationHistory } = params;
  
  const systemPrompt = buildSystemPrompt(context);
  const dataPrompt = buildDataPrompt(intent, relevantData);
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4o',
    messages: [
      { role: 'system', content: systemPrompt },
      { role: 'system', content: dataPrompt },
      ...conversationHistory.slice(-10).map(m => ({
        role: m.role as 'user' | 'assistant',
        content: m.content
      })),
      { role: 'user', content: message }
    ],
    response_format: { type: 'json_object' },
    temperature: 0.7,
  });
  
  return JSON.parse(response.choices[0].message.content || '{}');
}

function buildSystemPrompt(context: AIContext): string {
  return `Ø£Ù†Øª "Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ" ğŸ¤–ØŒ Ù…Ø³Ø§Ø¹Ø¯ ÙˆØ¯ÙˆØ¯ Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ Ù…ØµØ±.

## Ø´Ø®ØµÙŠØªÙƒ:
- ØªØªÙƒÙ„Ù… Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ø±Ø­Ø©
- ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ø¹ØªØ¯Ù„ ğŸ˜ŠğŸ•ğŸ”¥
- ØªØ¹Ø±Ù Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØªØ³ØªØ®Ø¯Ù…Ù‡: "${context.customer.name}"
- ØªÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ ØµØ¹ÙŠØ¯ Ù…ØµØ±)

## Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:
- Ø§Ù„Ø§Ø³Ù…: ${context.customer.name}
- Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${context.customer.city}
- Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©: ${context.orderHistory.totalOrders}
- Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨: ${context.orderHistory.averageOrderValue} Ø¬.Ù…
- Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…ÙØ¶Ù„Ø©: ${context.orderHistory.favoriteProviders.map(p => p.name_ar).join(', ') || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨Ø¹Ø¯'}
- Ø§Ù„Ø£ÙƒÙ„Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©: ${context.orderHistory.favoriteProducts.map(p => p.name_ar).join(', ') || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨Ø¹Ø¯'}
- ÙŠÙØ¶Ù„ Ø§Ù„Ø·Ù„Ø¨: ${context.preferences.usualOrderTime}

## Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠ:
- Ø§Ù„ÙˆÙ‚Øª: ${context.currentContext.time}
- Ø§Ù„ÙŠÙˆÙ…: ${context.currentContext.dayOfWeek}
- Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù†Ø´Ø·Ø©: ${context.currentContext.activePromotions.length} Ø¹Ø±Ø¶

## Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø±Ø¯:
1. Ø£Ø±Ø¬Ø¹ JSON Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…Ø§Ù‹:
{
  "text": "Ù†Øµ Ø§Ù„Ø±Ø¯ Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©",
  "actions": ["Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"],
  "products": [Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª],
  "providers": [Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª],
  "orderDraft": {Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø¤Ù‚Øª Ø¥Ø°Ø§ ÙˆØ¬Ø¯},
  "suggestions": ["Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©"]
}

2. Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:
- "show_products": Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª
- "show_providers": Ø¹Ø±Ø¶ Ù…Ø·Ø§Ø¹Ù…
- "add_to_cart": Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
- "show_comparison": Ø¹Ø±Ø¶ Ù…Ù‚Ø§Ø±Ù†Ø©
- "confirm_order": ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
- "ask_clarification": Ø·Ù„Ø¨ ØªÙˆØ¶ÙŠØ­

3. Ø¹Ù†Ø¯ Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª Ø£Ùˆ Ù…Ø·Ø§Ø¹Ù…ØŒ Ù‚Ø¯Ù… Ù…Ù‚Ø§Ø±Ù†Ø© Ù…ÙÙŠØ¯Ø©
4. Ø§Ù‚ØªØ±Ø­ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ù†ØªØ¬Ø§Øª Ù…ÙƒÙ…Ù„Ø©
5. Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„ØªØ®ØµÙŠØµ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
6. Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ù…Ø§ ÙŠØ·Ù„Ø¨Ù‡ØŒ Ø§Ù‚ØªØ±Ø­ Ø¨Ø¯Ø§Ø¦Ù„`;
}

function buildDataPrompt(intent: ParsedIntent, data: any): string {
  return `## Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø±Ø¯:

### Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©:
${JSON.stringify(data.products || [], null, 2)}

### Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…ØªØ§Ø­Ø©:
${JSON.stringify(data.providers || [], null, 2)}

### Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù†Ø´Ø·Ø©:
${JSON.stringify(data.promotions || [], null, 2)}

### Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙƒØªØ´ÙØ©:
- Ø§Ù„Ù†ÙˆØ¹: ${intent.type}
- Ø§Ù„Ø«Ù‚Ø©: ${intent.confidence}
- Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª: ${JSON.stringify(intent.entities)}

Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªÙ‚Ø¯ÙŠÙ… Ø±Ø¯ Ù…ÙÙŠØ¯ ÙˆÙ…Ø®ØµØµ.`;
}
```

### 3. React Hook (`useAIChat`)

```typescript
// src/hooks/useAIChat.ts

import { useState, useCallback, useRef } from 'react';
import { useCart } from '@/lib/store/cart';
import { useAuth } from '@/lib/auth/hooks';

export interface Message {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: Date;
  actions?: string[];
  products?: Product[];
  providers?: Provider[];
  orderDraft?: OrderDraft;
  suggestions?: string[];
}

export interface UseAIChatReturn {
  messages: Message[];
  isLoading: boolean;
  error: string | null;
  orderDraft: OrderDraft | null;
  sendMessage: (message: string) => Promise<void>;
  confirmOrder: () => void;
  modifyOrder: (modifications: Partial<OrderDraft>) => void;
  cancelOrder: () => void;
  clearChat: () => void;
}

export function useAIChat(): UseAIChatReturn {
  const [messages, setMessages] = useState<Message[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [orderDraft, setOrderDraft] = useState<OrderDraft | null>(null);
  
  const { addToCart, clearCart } = useCart();
  const { user } = useAuth();
  const conversationIdRef = useRef(generateId());
  
  // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
  const sendMessage = useCallback(async (message: string) => {
    if (!message.trim()) return;
    
    // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const userMessage: Message = {
      id: generateId(),
      role: 'user',
      content: message,
      timestamp: new Date(),
    };
    
    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);
    setError(null);
    
    try {
      const response = await fetch('/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          message,
          conversationHistory: messages.slice(-10),
          userId: user?.id,
          conversationId: conversationIdRef.current,
        }),
      });
      
      if (!response.ok) throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„');
      
      const data = await response.json();
      
      // Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
      const assistantMessage: Message = {
        id: generateId(),
        role: 'assistant',
        content: data.text,
        timestamp: new Date(),
        actions: data.actions,
        products: data.products,
        providers: data.providers,
        orderDraft: data.orderDraft,
        suggestions: data.suggestions,
      };
      
      setMessages(prev => [...prev, assistantMessage]);
      
      // ØªØ­Ø¯ÙŠØ« Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ø·Ù„Ø¨
      if (data.orderDraft) {
        setOrderDraft(data.orderDraft);
      }
      
    } catch (err) {
      setError('Ø­ØµÙ„ Ù…Ø´ÙƒÙ„Ø©ØŒ Ø¬Ø±Ø¨ ØªØ§Ù†ÙŠ');
      console.error('Chat error:', err);
    } finally {
      setIsLoading(false);
    }
  }, [messages, user?.id]);
  
  // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø©
  const confirmOrder = useCallback(() => {
    if (!orderDraft) return;
    
    // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ Ø¹Ù†ØµØ± Ù„Ù„Ø³Ù„Ø©
    orderDraft.items.forEach(item => {
      addToCart({
        id: item.productId,
        name_ar: item.productName,
        name_en: item.productName,
        price: item.price,
        quantity: item.quantity,
        provider_id: item.providerId,
        provider_name: item.providerName,
        variants: item.variants,
      });
    });
    
    // Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
    const confirmMessage: Message = {
      id: generateId(),
      role: 'assistant',
      content: `ØªÙ…Ø§Ù…! ğŸ‰ Ø¶ÙØª ${orderDraft.items.length} Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø³Ù„Ø©.
      
Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${orderDraft.total} Ø¬.Ù…

ØªÙ‚Ø¯Ø± ØªØ±ÙˆØ­ Ù„Ù„Ø³Ù„Ø© Ø¯Ù„ÙˆÙ‚ØªÙŠ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ØŒ Ø£Ùˆ ØªØ¶ÙŠÙ Ø­Ø§Ø¬Ø§Øª ØªØ§Ù†ÙŠØ©.`,
      timestamp: new Date(),
      suggestions: ['ğŸ›’ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³Ù„Ø©', 'â• Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯', 'ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'],
    };
    
    setMessages(prev => [...prev, confirmMessage]);
    setOrderDraft(null);
  }, [orderDraft, addToCart]);
  
  // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
  const modifyOrder = useCallback((modifications: Partial<OrderDraft>) => {
    setOrderDraft(prev => prev ? { ...prev, ...modifications } : null);
  }, []);
  
  // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨
  const cancelOrder = useCallback(() => {
    setOrderDraft(null);
    
    const cancelMessage: Message = {
      id: generateId(),
      role: 'assistant',
      content: 'ØªÙ…Ø§Ù…ØŒ Ù„ØºÙŠØª Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ø¨ ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø£ÙˆÙ„ØŸ',
      timestamp: new Date(),
      suggestions: ['ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙƒÙ„', 'ğŸ“‹ Ø·Ù„Ø¨Ø§ØªÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©', 'âŒ Ø¥ØºÙ„Ø§Ù‚'],
    };
    
    setMessages(prev => [...prev, cancelMessage]);
  }, []);
  
  // Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  const clearChat = useCallback(() => {
    setMessages([]);
    setOrderDraft(null);
    conversationIdRef.current = generateId();
  }, []);
  
  return {
    messages,
    isLoading,
    error,
    orderDraft,
    sendMessage,
    confirmOrder,
    modifyOrder,
    cancelOrder,
    clearChat,
  };
}

function generateId(): string {
  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
}
```

### 4. Ù…ÙƒÙˆÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

```typescript
// src/components/customer/chat/SmartAssistant.tsx

'use client';

import { useState, useRef, useEffect } from 'react';
import { useAIChat, Message } from '@/hooks/useAIChat';
import { useTranslations } from 'next-intl';
import { motion, AnimatePresence } from 'framer-motion';
import { 
  MessageCircle, X, Send, Loader2, ShoppingCart,
  ChevronDown, Sparkles, History, Search
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import { ProductCard } from '@/components/customer/shared/ProductCard';
import { ProviderCard } from '@/components/customer/shared/ProviderCard';
import { OrderSummaryCard } from './OrderSummaryCard';

interface SmartAssistantProps {
  isOpen: boolean;
  onClose: () => void;
}

export function SmartAssistant({ isOpen, onClose }: SmartAssistantProps) {
  const t = useTranslations('chat');
  const {
    messages,
    isLoading,
    error,
    orderDraft,
    sendMessage,
    confirmOrder,
    modifyOrder,
    cancelOrder,
    clearChat,
  } = useAIChat();
  
  const [input, setInput] = useState('');
  const messagesEndRef = useRef<HTMLDivElement>(null);
  const inputRef = useRef<HTMLInputElement>(null);
  
  // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø¢Ø®Ø± Ø±Ø³Ø§Ù„Ø©
  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);
  
  // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
  useEffect(() => {
    if (isOpen) {
      inputRef.current?.focus();
    }
  }, [isOpen]);
  
  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
  const handleSend = async () => {
    if (!input.trim() || isLoading) return;
    
    const message = input;
    setInput('');
    await sendMessage(message);
  };
  
  // Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
  const handleKeyPress = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSend();
    }
  };
  
  // Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­
  const handleSuggestionClick = async (suggestion: string) => {
    await sendMessage(suggestion);
  };
  
  // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
  const welcomeMessage: Message = {
    id: 'welcome',
    role: 'assistant',
    content: `Ù…Ø±Ø­Ø¨Ø§Ù‹! ğŸ‘‹ Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ.
    
Ø§ÙƒØªØ¨ Ù„ÙŠ Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªØ·Ù„Ø¨ Ø§Ù„ÙŠÙˆÙ…ØŸ

Ù…Ø«Ø§Ù„: "Ø¹Ø§ÙŠØ² 2 Ø´Ø§ÙˆØ±Ù…Ø§ ÙØ±Ø§Ø® Ù…Ù† Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±"`,
    timestamp: new Date(),
    suggestions: [
      'ğŸ• Ø¹Ø§ÙŠØ² Ø¨ÙŠØªØ²Ø§',
      'ğŸ” Ø§Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠØ§ Ø¨Ø±Ø¬Ø±',
      'ğŸ“‹ Ø·Ù„Ø¨Ø§ØªÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©',
      'ğŸ” Ø§Ø¨Ø­Ø« ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ',
    ],
  };
  
  const allMessages = messages.length === 0 ? [welcomeMessage] : messages;
  
  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0, scale: 0.95, y: 20 }}
          animate={{ opacity: 1, scale: 1, y: 0 }}
          exit={{ opacity: 0, scale: 0.95, y: 20 }}
          className="fixed inset-x-4 bottom-20 md:inset-auto md:bottom-24 md:right-4 
                     md:w-[420px] h-[70vh] md:h-[600px] max-h-[600px]
                     bg-white rounded-2xl shadow-2xl border border-gray-200
                     flex flex-col overflow-hidden z-50"
        >
          {/* Header */}
          <div className="bg-primary text-white px-4 py-3 flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                <Sparkles className="w-5 h-5" />
              </div>
              <div>
                <h3 className="font-bold">Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ</h3>
                <p className="text-xs text-white/80">Ø¯Ø±Ø¯Ø´ ÙˆØ§Ø·Ù„Ø¨</p>
              </div>
            </div>
            <Button
              variant="ghost"
              size="icon"
              onClick={onClose}
              className="text-white hover:bg-white/20"
            >
              <X className="w-5 h-5" />
            </Button>
          </div>
          
          {/* Messages */}
          <div className="flex-1 overflow-y-auto p-4 space-y-4">
            {allMessages.map((message) => (
              <MessageBubble
                key={message.id}
                message={message}
                onSuggestionClick={handleSuggestionClick}
                onConfirmOrder={confirmOrder}
                onCancelOrder={cancelOrder}
              />
            ))}
            
            {/* Loading indicator */}
            {isLoading && (
              <div className="flex items-center gap-2 text-gray-500">
                <Loader2 className="w-4 h-4 animate-spin" />
                <span className="text-sm">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©...</span>
              </div>
            )}
            
            {/* Error message */}
            {error && (
              <div className="bg-red-50 text-red-600 p-3 rounded-lg text-sm">
                {error}
              </div>
            )}
            
            <div ref={messagesEndRef} />
          </div>
          
          {/* Order Draft Summary */}
          {orderDraft && (
            <OrderSummaryCard
              orderDraft={orderDraft}
              onConfirm={confirmOrder}
              onModify={modifyOrder}
              onCancel={cancelOrder}
            />
          )}
          
          {/* Input */}
          <div className="border-t p-3">
            <div className="flex items-center gap-2">
              <input
                ref={inputRef}
                type="text"
                value={input}
                onChange={(e) => setInput(e.target.value)}
                onKeyPress={handleKeyPress}
                placeholder="Ø§ÙƒØªØ¨ Ø·Ù„Ø¨Ùƒ Ù‡Ù†Ø§... Ù…Ø«Ø§Ù„: Ø¹Ø§ÙŠØ² 2 Ø¨Ø±Ø¬Ø± Ùˆ Ø¨ÙŠØ¨Ø³ÙŠ"
                className="flex-1 px-4 py-3 bg-gray-100 rounded-full text-sm
                         focus:outline-none focus:ring-2 focus:ring-primary/50"
                disabled={isLoading}
              />
              <Button
                onClick={handleSend}
                disabled={!input.trim() || isLoading}
                className="rounded-full w-12 h-12"
              >
                {isLoading ? (
                  <Loader2 className="w-5 h-5 animate-spin" />
                ) : (
                  <Send className="w-5 h-5" />
                )}
              </Button>
            </div>
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
}

// Ù…ÙƒÙˆÙ† ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
function MessageBubble({
  message,
  onSuggestionClick,
  onConfirmOrder,
  onCancelOrder,
}: {
  message: Message;
  onSuggestionClick: (suggestion: string) => void;
  onConfirmOrder: () => void;
  onCancelOrder: () => void;
}) {
  const isUser = message.role === 'user';
  
  return (
    <div className={`flex ${isUser ? 'justify-start' : 'justify-end'}`}>
      <div
        className={`max-w-[85%] rounded-2xl px-4 py-3 ${
          isUser
            ? 'bg-gray-100 text-gray-900 rounded-tl-sm'
            : 'bg-primary text-white rounded-tr-sm'
        }`}
      >
        {/* Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© */}
        <p className="whitespace-pre-wrap text-sm">{message.content}</p>
        
        {/* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */}
        {message.products && message.products.length > 0 && (
          <div className="mt-3 space-y-2">
            {message.products.slice(0, 3).map((product) => (
              <MiniProductCard key={product.id} product={product} />
            ))}
          </div>
        )}
        
        {/* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… */}
        {message.providers && message.providers.length > 0 && (
          <div className="mt-3 space-y-2">
            {message.providers.slice(0, 3).map((provider) => (
              <MiniProviderCard key={provider.id} provider={provider} />
            ))}
          </div>
        )}
        
        {/* Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ */}
        {message.orderDraft && (
          <div className="mt-3 bg-white/10 rounded-lg p-3">
            <p className="font-bold mb-2">ğŸ“‹ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨:</p>
            {message.orderDraft.items.map((item, i) => (
              <div key={i} className="flex justify-between text-sm">
                <span>{item.quantity}x {item.productName}</span>
                <span>{item.price * item.quantity} Ø¬.Ù…</span>
              </div>
            ))}
            <div className="border-t border-white/20 mt-2 pt-2 font-bold">
              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {message.orderDraft.total} Ø¬.Ù…
            </div>
            
            <div className="flex gap-2 mt-3">
              <Button
                size="sm"
                onClick={onConfirmOrder}
                className="flex-1 bg-green-500 hover:bg-green-600"
              >
                âœ… Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
              </Button>
              <Button
                size="sm"
                variant="outline"
                onClick={onCancelOrder}
                className="bg-white/20 border-white/30"
              >
                âŒ Ø¥Ù„ØºØ§Ø¡
              </Button>
            </div>
          </div>
        )}
        
        {/* Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª */}
        {message.suggestions && message.suggestions.length > 0 && (
          <div className="mt-3 flex flex-wrap gap-2">
            {message.suggestions.map((suggestion, i) => (
              <button
                key={i}
                onClick={() => onSuggestionClick(suggestion)}
                className={`px-3 py-1.5 rounded-full text-xs font-medium
                          transition-colors ${
                  isUser
                    ? 'bg-white border border-gray-200 hover:bg-gray-50'
                    : 'bg-white/20 hover:bg-white/30'
                }`}
              >
                {suggestion}
              </button>
            ))}
          </div>
        )}
      </div>
    </div>
  );
}

// Ø¨Ø·Ø§Ù‚Ø© Ù…Ù†ØªØ¬ Ù…ØµØºØ±Ø©
function MiniProductCard({ product }: { product: Product }) {
  return (
    <div className="bg-white/10 rounded-lg p-2 flex items-center gap-2">
      {product.image_url && (
        <img
          src={product.image_url}
          alt={product.name_ar}
          className="w-12 h-12 rounded-lg object-cover"
        />
      )}
      <div className="flex-1 min-w-0">
        <p className="font-medium text-sm truncate">{product.name_ar}</p>
        <p className="text-xs opacity-80">{product.price} Ø¬.Ù…</p>
      </div>
    </div>
  );
}

// Ø¨Ø·Ø§Ù‚Ø© Ù…Ø·Ø¹Ù… Ù…ØµØºØ±Ø©
function MiniProviderCard({ provider }: { provider: Provider }) {
  return (
    <div className="bg-white/10 rounded-lg p-2 flex items-center gap-2">
      {provider.logo_url && (
        <img
          src={provider.logo_url}
          alt={provider.name_ar}
          className="w-12 h-12 rounded-lg object-cover"
        />
      )}
      <div className="flex-1 min-w-0">
        <p className="font-medium text-sm truncate">{provider.name_ar}</p>
        <div className="flex items-center gap-2 text-xs opacity-80">
          <span>â­ {provider.rating}</span>
          <span>â€¢</span>
          <span>{provider.delivery_time} Ø¯</span>
        </div>
      </div>
    </div>
  );
}
```

---

## ğŸ’¬ ØªØ¯ÙÙ‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¹Ø§ÙŠØ² 2 Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙŠØ©:                                             â”‚
â”‚    â€¢ Type: search_product                                    â”‚
â”‚    â€¢ Products: ["Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§"]                            â”‚
â”‚    â€¢ Quantities: [2]                                         â”‚
â”‚    â€¢ Attributes: ["ÙƒØ¨ÙŠØ±Ø©"]                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:                                 â”‚
â”‚    â€¢ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† "Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§" ÙÙŠ menu_items                â”‚
â”‚    â€¢ ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„                                 â”‚
â”‚    â€¢ ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆØ§Ù„Ø³Ø¹Ø±                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: Ù„Ù‚ÙŠØªÙ„Ùƒ Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ! ğŸ•          â”‚
â”‚                                                              â”‚
â”‚    ğŸ† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ (Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹)                          â”‚
â”‚    â€¢ Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 85 Ø¬.Ù…                           â”‚
â”‚    â€¢ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 4.8â˜… | Ø§Ù„ØªÙˆØµÙŠÙ„: 15 Ø¯ | 8 Ø¬.Ù…                  â”‚
â”‚                                                              â”‚
â”‚    ğŸ’° Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ± (Ø§Ù„Ø£Ø±Ø®Øµ)                                   â”‚
â”‚    â€¢ Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 70 Ø¬.Ù…                           â”‚
â”‚    â€¢ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 4.5â˜… | Ø§Ù„ØªÙˆØµÙŠÙ„: 25 Ø¯ | 10 Ø¬.Ù…                 â”‚
â”‚                                                              â”‚
â”‚    ØªØ­Ø¨ ØªØ·Ù„Ø¨ Ù…Ù† Ø£ÙŠ Ù…Ø·Ø¹Ù…ØŸ                                     â”‚
â”‚                                                              â”‚
â”‚    [Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§] [Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±] [Ø£ÙŠ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: Ù…Ù…ØªØ§Ø²! ğŸ‰                                       â”‚
â”‚                                                              â”‚
â”‚    ğŸ“‹ Ù…Ù„Ø®Øµ Ø·Ù„Ø¨Ùƒ:                                            â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚    â”‚ 2x Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©    170 Ø¬.Ù…      â”‚              â”‚
â”‚    â”‚ Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„               8 Ø¬.Ù…        â”‚              â”‚
â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚              â”‚
â”‚    â”‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ                   178 Ø¬.Ù…      â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚    ØªØ­Ø¨ ØªØ¶ÙŠÙ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©ØŸ ğŸ¥¤                                  â”‚
â”‚    â€¢ Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ (10 Ø¬.Ù…)                                    â”‚
â”‚    â€¢ Ø³Ù„Ø·Ø© (25 Ø¬.Ù…)                                          â”‚
â”‚                                                              â”‚
â”‚    [âœ… Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©] [â• Ø£Ø¶Ù Ù…Ø´Ø±ÙˆØ¨] [âŒ Ø¥Ù„ØºØ§Ø¡]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: ØªÙ…Ø§Ù…! ğŸ‰ Ø¶ÙØª Ø·Ù„Ø¨Ùƒ Ù„Ù„Ø³Ù„Ø©.                        â”‚
â”‚                                                              â”‚
â”‚    ØªÙ‚Ø¯Ø± ØªØ±ÙˆØ­ Ù„Ù„Ø³Ù„Ø© Ø¯Ù„ÙˆÙ‚ØªÙŠ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.                     â”‚
â”‚                                                              â”‚
â”‚    [ğŸ›’ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³Ù„Ø©] [â• Ø·Ù„Ø¨ ØªØ§Ù†ÙŠ] [ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ø·Ù„Ø¨ ØºØ§Ù…Ø¶ Ù…Ø¹ Ø³ÙŠØ§Ù‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¬Ø¹Ø§Ù†                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Ø§Ù„Ø³ÙŠØ§Ù‚:                                                   â”‚
â”‚    â€¢ Ø§Ù„ÙˆÙ‚Øª: 8 Ù…Ø³Ø§Ø¡Ù‹ (ÙˆÙ‚Øª Ø¹Ø´Ø§Ø¡)                              â”‚
â”‚    â€¢ Ø¢Ø®Ø± Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¨ÙŠØªØ²Ø§ØŒ Ø¨Ø±Ø¬Ø±ØŒ Ø´Ø§ÙˆØ±Ù…Ø§                  â”‚
â”‚    â€¢ Ø§Ù„Ù…Ø·Ø¹Ù… Ø§Ù„Ù…ÙØ¶Ù„: Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§                              â”‚
â”‚    â€¢ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨: 85 Ø¬.Ù…                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: ÙŠØ§ Ø£Ø­Ù…Ø¯! ğŸ˜Š Ø¬Ø§ÙŠ ÙÙŠ ÙˆÙ‚ØªÙ‡!                        â”‚
â”‚                                                              â”‚
â”‚    Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ Ù…Ù…ÙƒÙ† Ø£Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ:              â”‚
â”‚                                                              â”‚
â”‚    ğŸ• Ø¨ÙŠØªØ²Ø§ Ù…Ù† Ø³Ù„Ø·Ø§Ù† (Ø§Ù„Ù…ÙØ¶Ù„ Ø¹Ù†Ø¯Ùƒ)                          â”‚
â”‚    â€¢ Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 85 Ø¬.Ù…                           â”‚
â”‚    â€¢ Ø·Ù„Ø¨ØªÙ‡Ø§ 3 Ù…Ø±Ø§Øª Ù‚Ø¨Ù„ ÙƒØ¯Ù‡!                                 â”‚
â”‚                                                              â”‚
â”‚    ğŸ†• Ø¬Ø¯ÙŠØ¯! Ø¹Ø±Ø¶ Ø§Ù„ÙŠÙˆÙ…:                                      â”‚
â”‚    â€¢ 2 Ø¨Ø±Ø¬Ø± + Ø¨Ø·Ø§Ø·Ø³ + 2 Ø¨ÙŠØ¨Ø³ÙŠ = 120 Ø¬.Ù… (Ø¨Ø¯Ù„ 150)          â”‚
â”‚                                                              â”‚
â”‚    ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹ Ø¯Ù„ÙˆÙ‚ØªÙŠ:                                  â”‚
â”‚    â€¢ Ø´Ø§ÙˆØ±Ù…Ø§ ÙØ±Ø§Ø® Ù…Ù† Ø§Ù„Ø£Ù…ÙŠØ±: 45 Ø¬.Ù…                          â”‚
â”‚                                                              â”‚
â”‚    Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ ÙŠÙØªØ­ Ù†ÙØ³ÙƒØŸ                                      â”‚
â”‚                                                              â”‚
â”‚    [ğŸ• Ø¨ÙŠØªØ²Ø§] [ğŸ” Ø§Ù„Ø¨Ø±Ø¬Ø±] [ğŸŒ¯ Ø´Ø§ÙˆØ±Ù…Ø§] [ğŸ” Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨ Ø³Ø§Ø¨Ù‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø²ÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù„ÙŠ ÙØ§ØªØª                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:                                â”‚
â”‚    â€¢ Ø¢Ø®Ø± Ø·Ù„Ø¨: 2 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025                                 â”‚
â”‚    â€¢ Ø§Ù„Ù…Ø­ØªÙˆÙ‰: 2 Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ + 1 Ø¨ÙŠØ¨Ø³ÙŠ                    â”‚
â”‚    â€¢ Ù…Ù†: Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§                                        â”‚
â”‚    â€¢ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 188 Ø¬.Ù…                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: ØªÙ…Ø§Ù…! ğŸ“‹                                        â”‚
â”‚                                                              â”‚
â”‚    Ø¢Ø®Ø± Ø·Ù„Ø¨ Ù„ÙŠÙƒ ÙƒØ§Ù† ÙŠÙˆÙ… 2 Ø¯ÙŠØ³Ù…Ø¨Ø± Ù…Ù† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§:            â”‚
â”‚                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚    â”‚ 2x Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©    170 Ø¬.Ù…      â”‚              â”‚
â”‚    â”‚ 1x Ø¨ÙŠØ¨Ø³ÙŠ ÙƒØ¨ÙŠØ±              10 Ø¬.Ù…       â”‚              â”‚
â”‚    â”‚ Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„               8 Ø¬.Ù…        â”‚              â”‚
â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚              â”‚
â”‚    â”‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ                   188 Ø¬.Ù…      â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚    ØªØ­Ø¨ ØªÙƒØ±Ø± Ù†ÙØ³ Ø§Ù„Ø·Ù„Ø¨ØŸ                                      â”‚
â”‚                                                              â”‚
â”‚    [âœ… Ù†Ø¹Ù…ØŒ Ø§Ø·Ù„Ø¨] [âœï¸ Ø¹Ø¯Ù‘Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©] [âŒ Ù„Ø§ØŒ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 4: Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ù…Ø·Ø§Ø¹Ù…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ù…ÙŠÙ† Ø£Ø­Ø³Ù† ÙÙŠ Ø§Ù„Ø¨Ø±Ø¬Ø±ØŸ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯: Ø®Ù„ÙŠÙ†ÙŠ Ø£Ù‚Ø§Ø±Ù†Ù„Ùƒ! ğŸ”                               â”‚
â”‚                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚        Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©         â”‚ Ø³Ù„Ø·Ø§Ù† â”‚ Ø§Ù„Ø£Ù…ÙŠØ± â”‚ Ù„Ø§ÙÙ†Ø¯Ø± â”‚  â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚    â”‚ Ø³Ø¹Ø± Ø§Ù„Ø¨Ø±Ø¬Ø±              â”‚ 55 Ø¬.Ù… â”‚ 45 Ø¬.Ù… â”‚ 40 Ø¬.Ù…  â”‚  â”‚
â”‚    â”‚ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…                 â”‚ 4.8â˜…   â”‚ 4.5â˜…   â”‚ 4.3â˜…    â”‚  â”‚
â”‚    â”‚ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„             â”‚ 15 Ø¯   â”‚ 25 Ø¯   â”‚ 20 Ø¯    â”‚  â”‚
â”‚    â”‚ Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„            â”‚ 8 Ø¬.Ù…  â”‚ 10 Ø¬.Ù… â”‚ 5 Ø¬.Ù…   â”‚  â”‚
â”‚    â”‚ Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡            â”‚ Ù…Ù…ØªØ§Ø²  â”‚ Ø¬ÙŠØ¯    â”‚ Ø¬ÙŠØ¯     â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚    ğŸ’¡ ØªÙˆØµÙŠØªÙŠ:                                               â”‚
â”‚    â€¢ Ù„Ùˆ Ø§Ù„Ø¬ÙˆØ¯Ø© Ø£Ù‡Ù… â† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ (Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…)              â”‚
â”‚    â€¢ Ù„Ùˆ Ø§Ù„Ø³Ø¹Ø± Ø£Ù‡Ù… â† ÙƒØ§ÙÙŠÙ‡ Ù„Ø§ÙÙ†Ø¯Ø± (Ø£Ø±Ø®Øµ + Ø£Ù‚Ù„ ØªÙˆØµÙŠÙ„)        â”‚
â”‚    â€¢ Ù„Ùˆ Ø§Ù„Ø³Ø±Ø¹Ø© Ø£Ù‡Ù… â† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ (Ø£Ø³Ø±Ø¹ ØªÙˆØµÙŠÙ„)              â”‚
â”‚                                                              â”‚
â”‚    ØªØ­Ø¨ ØªØ·Ù„Ø¨ Ù…Ù† Ù…ÙŠÙ†ØŸ                                         â”‚
â”‚                                                              â”‚
â”‚    [Ø³Ù„Ø·Ø§Ù†] [Ø§Ù„Ø£Ù…ÙŠØ±] [Ù„Ø§ÙÙ†Ø¯Ø±]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù€ Context

### Ø¬Ø¯Ø§ÙˆÙ„ Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø©

```sql
-- Ø¬Ø¯ÙˆÙ„ Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
CREATE TABLE ai_conversations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  customer_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  started_at TIMESTAMPTZ DEFAULT NOW(),
  ended_at TIMESTAMPTZ,
  messages_count INT DEFAULT 0,
  resulted_in_order BOOLEAN DEFAULT FALSE,
  order_id UUID REFERENCES orders(id),
  feedback_rating INT CHECK (feedback_rating BETWEEN 1 AND 5),
  feedback_comment TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø¬Ø¯ÙˆÙ„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
CREATE TABLE ai_messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  conversation_id UUID REFERENCES ai_conversations(id) ON DELETE CASCADE,
  role TEXT NOT NULL CHECK (role IN ('user', 'assistant', 'system')),
  content TEXT NOT NULL,
  intent_type TEXT,
  intent_confidence FLOAT,
  entities JSONB,
  products_shown UUID[],
  providers_shown UUID[],
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø¬Ø¯ÙˆÙ„ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (ØªÙØ­Ø¯Ù‘Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
CREATE TABLE customer_preferences (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  customer_id UUID UNIQUE REFERENCES profiles(id) ON DELETE CASCADE,
  favorite_categories TEXT[] DEFAULT '{}',
  favorite_providers UUID[] DEFAULT '{}',
  favorite_products UUID[] DEFAULT '{}',
  price_range TEXT DEFAULT 'mid',
  dietary_restrictions TEXT[] DEFAULT '{}',
  usual_order_time TEXT,
  average_order_value DECIMAL(10,2),
  last_updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø·Ù„Ø¨
CREATE OR REPLACE FUNCTION update_customer_preferences()
RETURNS TRIGGER AS $$
BEGIN
  -- ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯
  INSERT INTO customer_preferences (customer_id)
  VALUES (NEW.customer_id)
  ON CONFLICT (customer_id) DO UPDATE SET
    average_order_value = (
      SELECT AVG(total) FROM orders WHERE customer_id = NEW.customer_id
    ),
    last_updated_at = NOW();
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_preferences
AFTER INSERT ON orders
FOR EACH ROW
EXECUTE FUNCTION update_customer_preferences();

-- Indexes Ù„Ù„Ø£Ø¯Ø§Ø¡
CREATE INDEX idx_ai_conversations_customer ON ai_conversations(customer_id);
CREATE INDEX idx_ai_messages_conversation ON ai_messages(conversation_id);
CREATE INDEX idx_customer_preferences_customer ON customer_preferences(customer_id);
```

### Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ù‡Ù…Ø©

```typescript
// Ø¬Ù„Ø¨ Ø³ÙŠØ§Ù‚ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„
async function getCustomerContext(customerId: string) {
  const supabase = createClient();
  
  const [
    { data: profile },
    { data: preferences },
    { data: recentOrders },
    { data: conversations }
  ] = await Promise.all([
    // Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
    supabase
      .from('profiles')
      .select('*, governorates(name_ar), cities(name_ar)')
      .eq('id', customerId)
      .single(),
    
    // Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
    supabase
      .from('customer_preferences')
      .select('*')
      .eq('customer_id', customerId)
      .single(),
    
    // Ø¢Ø®Ø± 10 Ø·Ù„Ø¨Ø§Øª
    supabase
      .from('orders')
      .select(`
        *,
        order_items(*, menu_items(*)),
        providers(name_ar, category, logo_url)
      `)
      .eq('customer_id', customerId)
      .order('created_at', { ascending: false })
      .limit(10),
    
    // Ø¢Ø®Ø± Ù…Ø­Ø§Ø¯Ø«Ø©
    supabase
      .from('ai_conversations')
      .select('*, ai_messages(*)')
      .eq('customer_id', customerId)
      .order('created_at', { ascending: false })
      .limit(1)
  ]);
  
  return { profile, preferences, recentOrders, lastConversation: conversations?.[0] };
}

// Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ø¹Ù† Ù…Ù†ØªØ¬Ø§Øª
async function smartProductSearch(query: string, context: CustomerContext) {
  const supabase = createClient();
  
  // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ + Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©
  const { data: products } = await supabase
    .from('menu_items')
    .select(`
      *,
      providers!inner(
        id, name_ar, rating, delivery_time, delivery_fee, city_id
      )
    `)
    .eq('providers.city_id', context.cityId)
    .eq('providers.status', 'approved')
    .eq('is_available', true)
    .or(`name_ar.ilike.%${query}%,name_en.ilike.%${query}%,description_ar.ilike.%${query}%`)
    .order('providers(rating)', { ascending: false })
    .limit(20);
  
  // ØªØ±ØªÙŠØ¨ Ø°ÙƒÙŠ: Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ù„Ù…ÙØ¶Ù„Ø§Øª
  const sortedProducts = products?.sort((a, b) => {
    const aIsFavorite = context.preferences?.favorite_providers?.includes(a.provider_id) ? 1 : 0;
    const bIsFavorite = context.preferences?.favorite_providers?.includes(b.provider_id) ? 1 : 0;
    return bIsFavorite - aIsFavorite;
  });
  
  return sortedProducts;
}
```

---

## ğŸ­ Ø§Ù„Ù€ Prompts ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©

### System Prompt Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ

```typescript
const SYSTEM_PROMPT = `Ø£Ù†Øª "Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ" ğŸ¤–ØŒ Ù…Ø³Ø§Ø¹Ø¯ ÙˆØ¯ÙˆØ¯ ÙˆÙ…Ø±Ø­ Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… "Ø¥Ù†Ø¬Ø²Ù†Ø§" ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ ØµØ¹ÙŠØ¯ Ù…ØµØ±.

## Ø´Ø®ØµÙŠØªÙƒ:
- ØªØªÙƒÙ„Ù… Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ø±Ø­Ø©
- ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ø¹ØªØ¯Ù„ ÙˆØ·Ø¨ÙŠØ¹ÙŠ
- ØªØ¹Ø±Ù Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØªØ³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ
- ØªÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©ØŒ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…Ø­Ù„ÙŠØ©)
- Ù„Ø§ ØªÙƒÙˆÙ† Ù…Ø²Ø¹Ø¬Ø§Ù‹ Ø£Ùˆ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„

## Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©:
1. Ø§Ø¨Ø¯Ø£ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨ØªØ­ÙŠØ© Ù‚ØµÙŠØ±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø£ÙˆÙ„ Ø±Ø³Ø§Ù„Ø©
2. Ø§ÙÙ‡Ù… Ù…Ø§ ÙŠØ±ÙŠØ¯Ù‡ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø§Ù‚ØªØ±Ø§Ø­ Ø£ÙŠ Ø´ÙŠØ¡
3. Ø§Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© (2-3) ÙˆÙ„ÙŠØ³ Ù‚Ø§Ø¦Ù…Ø© Ø·ÙˆÙŠÙ„Ø©
4. Ù‚Ø¯Ù… Ù…Ù‚Ø§Ø±Ù†Ø§Øª Ù…ÙÙŠØ¯Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
5. Ø§Ù‚ØªØ±Ø­ Ù…Ù†ØªØ¬Ø§Øª Ù…ÙƒÙ…Ù„Ø© Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙ„ÙŠØ³ Ø¥Ù„Ø­Ø§Ø­ÙŠ
6. Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
7. Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ù…Ø§ ÙŠØ·Ù„Ø¨Ù‡ØŒ Ø§Ù‚ØªØ±Ø­ Ø¨Ø¯Ø§Ø¦Ù„ Ù‚Ø±ÙŠØ¨Ø©

## Ù…Ø§ Ù„Ø§ ÙŠØ¬Ø¨ ÙØ¹Ù„Ù‡:
- Ù„Ø§ ØªÙƒØ°Ø¨ Ø¹Ù† ØªÙˆÙØ± Ù…Ù†ØªØ¬ Ø£Ùˆ Ø³Ø¹Ø±Ù‡
- Ù„Ø§ ØªØ®ØªØ±Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…
- Ù„Ø§ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„Ù„Ø´Ø±Ø§Ø¡
- Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ù„ØºØ© Ø±Ø³Ù…ÙŠØ© Ø¬Ø§ÙØ©
- Ù„Ø§ ØªØ±Ø³Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹

## ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ø¯:
- Ø§Ø³ØªØ®Ø¯Ù… Ø³Ø·ÙˆØ± Ù‚ØµÙŠØ±Ø© ÙˆÙ…Ù‚Ø±ÙˆØ¡Ø©
- Ø§Ø³ØªØ®Ø¯Ù… bullet points Ù„Ù„Ù‚ÙˆØ§Ø¦Ù…
- Ø¶Ø¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­
- Ø£Ø¶Ù Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³Ø±ÙŠØ¹Ø© ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© [Ø²Ø± 1] [Ø²Ø± 2]

## Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:
- Ø¥Ø°Ø§ Ù„Ù… ØªÙÙ‡Ù…: "Ù…Ø´ ÙØ§Ù‡Ù… Ù‚ØµØ¯ÙƒØŒ Ù…Ù…ÙƒÙ† ØªÙˆØ¶Ø­Ù„ÙŠ Ø£ÙƒØªØ±ØŸ ğŸ¤”"
- Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯: "Ù„Ù„Ø£Ø³Ù Ù…Ø´ Ù„Ø§Ù‚ÙŠ [X] Ø¯Ù„ÙˆÙ‚ØªÙŠØŒ Ø¨Ø³ Ù…Ù…ÙƒÙ† Ø£Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ [Y]"
- Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£: "Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø© ØµØºÙŠØ±Ø©ØŒ Ù…Ù…ÙƒÙ† ØªØ¬Ø±Ø¨ ØªØ§Ù†ÙŠØŸ"`;
```

### Ø£Ù…Ø«Ù„Ø© Few-Shot

```typescript
const FEW_SHOT_EXAMPLES = [
  {
    user: "Ø¹Ø§ÙŠØ² Ø¨ÙŠØªØ²Ø§",
    assistant: `Ù„Ù‚ÙŠØªÙ„Ùƒ Ø¨ÙŠØªØ²Ø§ ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ! ğŸ•

ğŸ† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ (Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹)
â€¢ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 85 Ø¬.Ù…
â€¢ â­ 4.8 | ğŸ• 15 Ø¯Ù‚ÙŠÙ‚Ø©

ğŸ’° Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±
â€¢ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 70 Ø¬.Ù…
â€¢ â­ 4.5 | ğŸ• 25 Ø¯Ù‚ÙŠÙ‚Ø©

ØªØ­Ø¨ ØªØ®ØªØ§Ø± Ù…Ù† Ø£ÙŠ Ù…Ø·Ø¹Ù…ØŸ

[Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§] [Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±]`
  },
  {
    user: "Ø¬Ø¹Ø§Ù†",
    assistant: `ÙŠØ§ ${customerName}! ğŸ˜Š 

Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ Ù…Ù…ÙƒÙ† Ø£Ù‚ØªØ±Ø­:

ğŸ• Ø¨ÙŠØªØ²Ø§ Ù…Ù† Ø³Ù„Ø·Ø§Ù† (Ø§Ù„Ù…ÙØ¶Ù„ Ø¹Ù†Ø¯Ùƒ)
ğŸ” Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø±Ø¬Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ (2 Ø¨Ø±Ø¬Ø± + Ø¨Ø·Ø§Ø·Ø³ = 100 Ø¬.Ù…)
ğŸŒ¯ Ø´Ø§ÙˆØ±Ù…Ø§ ÙØ±Ø§Ø® Ù…Ù† Ø§Ù„Ø£Ù…ÙŠØ±

Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ ÙŠÙØªØ­ Ù†ÙØ³Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ

[ğŸ• Ø¨ÙŠØªØ²Ø§] [ğŸ” Ø¨Ø±Ø¬Ø±] [ğŸŒ¯ Ø´Ø§ÙˆØ±Ù…Ø§]`
  },
  {
    user: "Ø²ÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù„ÙŠ ÙØ§ØªØª",
    assistant: `Ø¢Ø®Ø± Ø·Ù„Ø¨ Ù„ÙŠÙƒ ÙƒØ§Ù†:

ğŸ“‹ Ù…Ù† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§:
â€¢ 2x Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø© (170 Ø¬.Ù…)
â€¢ 1x Ø¨ÙŠØ¨Ø³ÙŠ (10 Ø¬.Ù…)
â€¢ ØªÙˆØµÙŠÙ„: 8 Ø¬.Ù…
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 188 Ø¬.Ù…

ØªØ­Ø¨ ØªÙƒØ±Ø± Ù†ÙØ³ Ø§Ù„Ø·Ù„Ø¨ØŸ

[âœ… Ù†Ø¹Ù…] [âœï¸ Ø¹Ø¯Ù‘Ù„] [âŒ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©]`
  }
];
```

---

## ğŸ¨ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SmartAssistant                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Header: Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ ğŸ¤–                        â”‚  â”‚
â”‚  â”‚  [X] Close Button                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Messages Area                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Assistant Bubble (Right/Blue)                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Text                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Product Cards (optional)                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Suggestions Chips                             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ User Bubble (Left/Gray)                         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Order Summary Card (when orderDraft exists)          â”‚  â”‚
â”‚  â”‚  [Confirm] [Modify] [Cancel]                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Input: [________________________] [Send Button]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

| Ø§Ù„Ù…ÙƒÙˆÙ† | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ø®ØµØ§Ø¦Øµ |
|--------|-------|---------|
| **ChatFAB** | Ø²Ø± ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© | Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø±Ø³Ø§Ù„Ø©ØŒ ÙŠØ¸Ù‡Ø± ÙÙŠ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª |
| **SmartAssistant** | Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© | Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¥ØºÙ„Ø§Ù‚ØŒ responsive |
| **MessageBubble** | ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© | user/assistantØŒ ØªØ¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØºÙ†ÙŠ |
| **ProductCard** | Ø¨Ø·Ø§Ù‚Ø© Ù…Ù†ØªØ¬ Ù…ØµØºØ±Ø© | ØµÙˆØ±Ø©ØŒ Ø§Ø³Ù…ØŒ Ø³Ø¹Ø±ØŒ Ø²Ø± Ø¥Ø¶Ø§ÙØ© |
| **ProviderCard** | Ø¨Ø·Ø§Ù‚Ø© Ù…Ø·Ø¹Ù… Ù…ØµØºØ±Ø© | Ù„ÙˆØ¬ÙˆØŒ Ø§Ø³Ù…ØŒ ØªÙ‚ÙŠÙŠÙ…ØŒ ÙˆÙ‚Øª ØªÙˆØµÙŠÙ„ |
| **OrderSummaryCard** | Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ±ØŒ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØŒ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ |
| **SuggestionChips** | Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³Ø±ÙŠØ¹Ø© | Ø£Ø²Ø±Ø§Ø± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù†Ù‚Ø± |

---

## ğŸ“… Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª (Ø£Ø³Ø¨ÙˆØ¹ 1-2)

| Ø§Ù„Ù…Ù‡Ù…Ø© | Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© | Ø§Ù„Ù…Ø¯Ø© | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|----------|-------|--------|
| Ø¥Ù†Ø´Ø§Ø¡ API Route Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø© | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¨Ù†Ø§Ø¡ Context Builder | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¨Ù†Ø§Ø¡ Intent Parser | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¨Ù†Ø§Ø¡ Response Generator | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ù†Ø´Ø§Ø¡ useAIChat Hook | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |
| ØªÙƒØ§Ù…Ù„ Ù…Ø¹ OpenAI API | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Ø£Ø³Ø¨ÙˆØ¹ 2-3)

| Ø§Ù„Ù…Ù‡Ù…Ø© | Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© | Ø§Ù„Ù…Ø¯Ø© | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|----------|-------|--------|
| ØªØ­Ø¯ÙŠØ« SmartAssistant UI | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ù†Ø´Ø§Ø¡ MessageBubble | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ù†Ø´Ø§Ø¡ ProductCard Ø§Ù„Ù…ØµØºØ±Ø© | Ù…ØªÙˆØ³Ø·Ø© | 1 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ù†Ø´Ø§Ø¡ ProviderCard Ø§Ù„Ù…ØµØºØ±Ø© | Ù…ØªÙˆØ³Ø·Ø© | 1 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ù†Ø´Ø§Ø¡ OrderSummaryCard | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |
| Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù€ Animations | Ù…Ù†Ø®ÙØ¶Ø© | 1 ÙŠÙˆÙ… | â¬œ |

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© (Ø£Ø³Ø¨ÙˆØ¹ 3-4)

| Ø§Ù„Ù…Ù‡Ù…Ø© | Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© | Ø§Ù„Ù…Ø¯Ø© | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|----------|-------|--------|
| Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø§Ø³ØªØ­Ø¶Ø§Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙƒÙ…Ù„Ø© | Ù…ØªÙˆØ³Ø·Ø© | 2 ÙŠÙˆÙ… | â¬œ |
| ØªØ®ØµÙŠØµ Ø§Ù„ØªØ¬Ø±Ø¨Ø© | Ù…ØªÙˆØ³Ø·Ø© | 2 ÙŠÙˆÙ… | â¬œ |
| Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |
| Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© | Ø¹Ø§Ù„ÙŠØ© | 1 ÙŠÙˆÙ… | â¬œ |

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø§Ù„ØªØ­Ø³ÙŠÙ† ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø£Ø³Ø¨ÙˆØ¹ 4-5)

| Ø§Ù„Ù…Ù‡Ù…Ø© | Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© | Ø§Ù„Ù…Ø¯Ø© | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|----------|-------|--------|
| Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª | Ù…ØªÙˆØ³Ø·Ø© | 1 ÙŠÙˆÙ… | â¬œ |
| ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù€ Prompts | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª | Ø¹Ø§Ù„ÙŠØ© | 3 ÙŠÙˆÙ… | â¬œ |
| ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ | Ù…ØªÙˆØ³Ø·Ø© | 2 ÙŠÙˆÙ… | â¬œ |
| Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Ø¹Ø§Ù„ÙŠØ© | 2 ÙŠÙˆÙ… | â¬œ |

### Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ

```
Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1: â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           API + Context + Intent Parser

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           Response Generator + UI Components

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€
           Smart Features (Compare, History)

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           Testing + Optimization

Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 5: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆ
           Bug Fixes + Polish
```

---

## ğŸ“Š Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù†Ø¬Ø§Ø­

### KPIs Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø£ÙˆÙ„ | Ø§Ù„Ù‡Ø¯Ù 6 Ø£Ø´Ù‡Ø± |
|--------|-------|-------------------|---------------|
| **Adoption Rate** | Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ | 20% | 50% |
| **Completion Rate** | Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„ØªÙŠ ØªÙ†ØªÙ‡ÙŠ Ø¨Ø·Ù„Ø¨ | 30% | 50% |
| **AOV Increase** | Ø²ÙŠØ§Ø¯Ø© Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ | +10% | +25% |
| **Time to Order** | Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ | 3 Ø¯Ù‚Ø§Ø¦Ù‚ | 2 Ø¯Ù‚ÙŠÙ‚Ø© |
| **User Satisfaction** | ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯ | 4.0/5 | 4.5/5 |
| **Intent Accuracy** | Ø¯Ù‚Ø© ÙÙ‡Ù… Ù†ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | 80% | 95% |

### Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©

```typescript
// ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø¡
interface AnalyticsEvents {
  // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  'chat_started': { userId: string; source: string };
  
  // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
  'message_sent': { 
    userId: string; 
    messageType: 'user' | 'assistant';
    intentType: string;
  };
  
  // Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª
  'products_shown': { 
    userId: string; 
    productIds: string[]; 
    searchQuery: string;
  };
  
  // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
  'cart_added_via_assistant': {
    userId: string;
    productIds: string[];
    totalValue: number;
  };
  
  // Ø¥ØªÙ…Ø§Ù… Ø·Ù„Ø¨
  'order_completed_via_assistant': {
    userId: string;
    orderId: string;
    orderValue: number;
    conversationId: string;
  };
  
  // ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  'chat_rated': {
    userId: string;
    conversationId: string;
    rating: number;
    feedback?: string;
  };
}
```

---

## âš ï¸ Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„Ø­Ù„ÙˆÙ„

### Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªÙ‚Ù†ÙŠØ©

| Ø§Ù„Ù…Ø®Ø§Ø·Ø± | Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© | Ø§Ù„ØªØ£Ø«ÙŠØ± | Ø§Ù„Ø­Ù„ |
|---------|-----------|---------|------|
| **Ø¨Ø·Ø¡ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©** | Ù…ØªÙˆØ³Ø· | Ø¹Ø§Ù„ÙŠ | Streaming responses + loading states |
| **ØªÙƒÙ„ÙØ© API Ø¹Ø§Ù„ÙŠØ©** | Ù…ØªÙˆØ³Ø· | Ù…ØªÙˆØ³Ø· | Ø§Ø³ØªØ®Ø¯Ø§Ù… GPT-4o-mini + caching |
| **ÙÙ‡Ù… Ø®Ø§Ø·Ø¦ Ù„Ù„Ù†ÙˆØ§ÙŠØ§** | Ø¹Ø§Ù„ÙŠ | Ù…ØªÙˆØ³Ø· | Few-shot examples + fallback |
| **Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª** | Ù…Ù†Ø®ÙØ¶ | Ù…ØªÙˆØ³Ø· | Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ø¯ÙŠÙ„Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹ |

### Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©

| Ø§Ù„Ù…Ø®Ø§Ø·Ø± | Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© | Ø§Ù„ØªØ£Ø«ÙŠØ± | Ø§Ù„Ø­Ù„ |
|---------|-----------|---------|------|
| **Ø¹Ø¯Ù… ØªØ¨Ù†ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†** | Ù…ØªÙˆØ³Ø· | Ø¹Ø§Ù„ÙŠ | Onboarding + ØªØ­ÙÙŠØ²Ø§Øª |
| **ØªØ¬Ø±Ø¨Ø© Ø³ÙŠØ¦Ø©** | Ù…ØªÙˆØ³Ø· | Ø¹Ø§Ù„ÙŠ | Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙƒØ«Ù + feedback loop |
| **ØªÙˆÙ‚Ø¹Ø§Øª ØºÙŠØ± ÙˆØ§Ù‚Ø¹ÙŠØ©** | Ù…Ù†Ø®ÙØ¶ | Ù…ØªÙˆØ³Ø· | ÙˆØ¶ÙˆØ­ Ø§Ù„Ø­Ø¯ÙˆØ¯ + disclaimers |

### Ø®Ø·Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦

```
Ø¥Ø°Ø§ ÙØ´Ù„ OpenAI API:
â”œâ”€â”€ 1. Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ÙˆØ¯ÙŠØ©
â”œâ”€â”€ 2. ØªÙØ¹ÙŠÙ„ fallback Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ø¯ÙŠ
â””â”€â”€ 3. Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ØªÙ‚Ù†ÙŠ

Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø³ÙŠØ¦Ø©:
â”œâ”€â”€ 1. Ø¬Ù…Ø¹ feedback Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
â”œâ”€â”€ 2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù€ prompts
â””â”€â”€ 3. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø©

Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØªÙƒÙ„ÙØ© Ø¹Ø§Ù„ÙŠØ©:
â”œâ”€â”€ 1. ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
â”œâ”€â”€ 2. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù€ prompts Ù„ØªÙ‚Ù„ÙŠÙ„ tokens
â””â”€â”€ 3. ØªÙØ¹ÙŠÙ„ rate limiting
```

---

## ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯

### ØªÙƒÙ„ÙØ© OpenAI API

```
Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ (1000 Ù…Ø³ØªØ®Ø¯Ù… Ù†Ø´Ø·):

GPT-4o-mini Ù„Ù„Ù€ Intent Parsing:
â”œâ”€â”€ ~500 tokens/request Ã— 5 requests/user Ã— 1000 users
â”œâ”€â”€ = 2,500,000 tokens/month
â”œâ”€â”€ = $0.15/1M input + $0.60/1M output
â””â”€â”€ â‰ˆ $2-3/month

GPT-4o Ù„Ù„Ù€ Response Generation:
â”œâ”€â”€ ~2000 tokens/request Ã— 5 requests/user Ã— 1000 users  
â”œâ”€â”€ = 10,000,000 tokens/month
â”œâ”€â”€ = $2.50/1M input + $10/1M output
â””â”€â”€ â‰ˆ $50-80/month

Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ: $60-100/month
```

### Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©

| Ø§Ù„Ù…ÙˆØ±Ø¯ | Ø§Ù„Ù…Ù‡Ù…Ø© | Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ |
|--------|--------|---------------|
| Full-stack Developer | ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙŠØ²Ø© | 5 Ø£Ø³Ø§Ø¨ÙŠØ¹ |
| UI/UX Review | Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… | 2-3 Ø³Ø§Ø¹Ø§Øª |
| QA Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª | 1 Ø£Ø³Ø¨ÙˆØ¹ |
| Product Owner | Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© | Ù…Ø³ØªÙ…Ø± |

### ROI Ø§Ù„Ù…ØªÙˆÙ‚Ø¹

```
Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±:
â”œâ”€â”€ ØªØ·ÙˆÙŠØ±: ~200 Ø³Ø§Ø¹Ø© Ã— $X/hour = $Y
â”œâ”€â”€ OpenAI API: ~$100/month
â””â”€â”€ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: $Z

Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:
â”œâ”€â”€ Ø²ÙŠØ§Ø¯Ø© AOV 20% Ã— 5000 Ø·Ù„Ø¨/Ø´Ù‡Ø± Ã— 80 Ø¬.Ù… = +80,000 Ø¬.Ù…/Ø´Ù‡Ø±
â”œâ”€â”€ Ø²ÙŠØ§Ø¯Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ 10% = +500 Ø·Ù„Ø¨/Ø´Ù‡Ø±
â””â”€â”€ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ 30% = ØªÙˆÙÙŠØ± X Ø³Ø§Ø¹Ø©/Ø´Ù‡Ø±

ROI Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: > 300% ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®ØªØ§Ù…ÙŠØ©

### Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªÙ†ÙÙŠØ°

1. **Ø§Ø¨Ø¯Ø£ Ø¨Ø³ÙŠØ·Ø§Ù‹**: Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø¨Ø­Ø« + Ø¹Ø±Ø¶ + Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©) Ø«Ù… Ø£Ø¶Ù Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
2. **Ø§Ø®ØªØ¨Ø± Ù…Ø¨ÙƒØ±Ø§Ù‹**: Ø§Ø®ØªØ¨Ø± Ù…Ø¹ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ† Ù…Ù† Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ
3. **Ø§Ø¬Ù…Ø¹ feedback**: Ø£Ø¶Ù Ù†Ø¸Ø§Ù… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
4. **Ø­Ø³Ù‘Ù† Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±**: Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù€ prompts Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©
5. **Ø±Ø§Ù‚Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ©**: ØªØ§Ø¨Ø¹ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ API ÙŠÙˆÙ…ÙŠØ§Ù‹

### Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. âœ… Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø®Ø·Ø©
2. â¬œ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ÙØªØ§Ø­ OpenAI API
3. â¬œ Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±
4. â¬œ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ° Ù…Ù† Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1

---

---

## ğŸ¤– Claude Code Implementation Prompt

### ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…

Ø§Ù†Ø³Ø® Ø§Ù„Ù€ Prompt Ø§Ù„ØªØ§Ù„ÙŠ ÙˆØ£Ø¹Ø·Ù‡ Ù„Ù€ Claude Code Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.

---

### ğŸ“‹ Prompt Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù€ Claude Code

```markdown
# ğŸ¯ Ù…Ù‡Ù…Ø©: ØªÙ†ÙÙŠØ° Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ (AI Smart Assistant)

## Ø§Ù„Ø³ÙŠØ§Ù‚
Ø£Ù†Ø§ Ø£Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ù…Ø´Ø±ÙˆØ¹ Engezna - Ù…Ù†ØµØ© ØªÙˆØµÙŠÙ„ Ø·Ø¹Ø§Ù… ÙÙŠ Ù…ØµØ± (Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ).
Ø£Ø­ØªØ§Ø¬ ØªÙ†ÙÙŠØ° Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„Ù€ AI Ù„Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆÙ…Ø³Ø§Ø¹Ø¯ØªÙ‡Ù… ÙÙŠ Ø§Ù„Ø·Ù„Ø¨.

## Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
- Next.js 15+ (App Router)
- TypeScript
- Supabase (Database + Auth)
- Tailwind CSS + shadcn/ui
- Zustand (State Management)
- OpenAI API (GPT-4o / GPT-4o-mini)

## Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ

### 1. ÙÙ‡Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©
- ÙŠÙÙ‡Ù… Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©: "Ø¹Ø§ÙŠØ² 2 Ø´Ø§ÙˆØ±Ù…Ø§ ÙØ±Ø§Ø®"
- ÙŠÙÙ‡Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰: "Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ ÙˆØ¬Ø¨Ø© ØºØ¯Ø§Ø¡"
- ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØºØ§Ù…Ø¶Ø©: "Ø¬Ø¹Ø§Ù†" â†’ ÙŠØ³Ø£Ù„ Ø¹Ù† Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
- ÙŠØ³ØªØ®Ø±Ø¬: Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„ÙƒÙ…ÙŠØ§ØªØŒ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…ØŒ Ø§Ù„ØµÙØ§Øª (Ø­Ø§Ø±ØŒ Ù†Ø¨Ø§ØªÙŠØŒ Ø¥Ù„Ø®)

### 2. Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…
- Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù„Ù†ÙØ³ Ø§Ù„Ù…Ù†ØªØ¬
- Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª
- Ù…Ù‚Ø§Ø±Ù†Ø© ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„ ÙˆØ±Ø³ÙˆÙ…Ù‡
- ØªÙ‚Ø¯ÙŠÙ… ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠØ© (Ø§Ù„Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø©ØŒ Ø§Ù„Ø£Ø±Ø®ØµØŒ Ø§Ù„Ø£Ø³Ø±Ø¹)

### 3. Ø§Ø³ØªØ­Ø¶Ø§Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
- Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
- Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ù…ÙØ¶Ù„Ø©
- Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª (Ù†ÙˆØ¹ Ø§Ù„Ø£ÙƒÙ„ØŒ Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±ØŒ ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø¹ØªØ§Ø¯)
- Ø¯Ø¹Ù… "Ø²ÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù„ÙŠ ÙØ§ØªØª"

### 4. Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ©
- Ù…Ù†ØªØ¬Ø§Øª Ù…ÙƒÙ…Ù„Ø© (Ø¨ÙŠØªØ²Ø§ â†’ Ù…Ø´Ø±ÙˆØ¨ + Ø­Ù„ÙˆÙŠØ§Øª)
- Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙ‚Øª (Ø¥ÙØ·Ø§Ø±/ØºØ¯Ø§Ø¡/Ø¹Ø´Ø§Ø¡)
- Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù†Ø´Ø·Ø©
- Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹

### 5. Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨
- Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„
- Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Ø§Ù„ÙƒÙ…ÙŠØ©ØŒ Ø§Ù„Ø­Ø°ÙØŒ Ø§Ù„Ø¥Ø¶Ø§ÙØ©)
- Ø·Ù„Ø¨ ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©

### 6. Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
- Ø¨Ø¹Ø¯ Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø³Ù„Ø©
- ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚

## Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§:

```
src/
â”œâ”€â”€ app/api/chat/
â”‚   â””â”€â”€ route.ts                    # API Endpoint Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
â”‚
â”œâ”€â”€ lib/ai/
â”‚   â”œâ”€â”€ index.ts                    # ØªØµØ¯ÙŠØ± ÙƒÙ„ Ø§Ù„Ù€ modules
â”‚   â”œâ”€â”€ context-builder.ts          # Ø¬Ù…Ø¹ Ø³ÙŠØ§Ù‚ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…Ù† DB
â”‚   â”œâ”€â”€ intent-parser.ts            # ØªØ­Ù„ÙŠÙ„ Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”‚   â”œâ”€â”€ response-generator.ts       # ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… GPT
â”‚   â”œâ”€â”€ product-search.ts           # Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
â”‚   â”œâ”€â”€ comparison-engine.ts        # Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…
â”‚   â””â”€â”€ prompts.ts                  # System prompts ÙˆØ§Ù„Ø£Ù…Ø«Ù„Ø©
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useAIChat.ts                # React Hook Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
â”‚
â”œâ”€â”€ components/customer/chat/
â”‚   â”œâ”€â”€ SmartAssistant.tsx          # Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Modal/Drawer)
â”‚   â”œâ”€â”€ ChatFAB.tsx                 # Ø²Ø± ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (Floating Action Button)
â”‚   â”œâ”€â”€ MessageBubble.tsx           # ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© (user/assistant)
â”‚   â”œâ”€â”€ MessageList.tsx             # Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ø¹ auto-scroll
â”‚   â”œâ”€â”€ ChatInput.tsx               # Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ + Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
â”‚   â”œâ”€â”€ ProductSuggestionCard.tsx   # Ø¨Ø·Ø§Ù‚Ø© Ù…Ù†ØªØ¬ Ù…Ù‚ØªØ±Ø­ (Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©)
â”‚   â”œâ”€â”€ ProviderComparisonCard.tsx  # Ø¨Ø·Ø§Ù‚Ø© Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø·Ø§Ø¹Ù…
â”‚   â”œâ”€â”€ OrderDraftCard.tsx          # Ø¨Ø·Ø§Ù‚Ø© Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
â”‚   â”œâ”€â”€ SuggestionChips.tsx         # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
â”‚   â””â”€â”€ TypingIndicator.tsx         # Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
â”‚
â”œâ”€â”€ types/
â”‚   â””â”€â”€ chat.ts                     # TypeScript types Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
â”‚
â””â”€â”€ store/
    â””â”€â”€ chat-store.ts               # Zustand store Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
```

## ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ†ÙÙŠØ°

### 1. API Route (`/api/chat/route.ts`)

```typescript
// Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
// - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… + ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© + userId
// - Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ù‚ (Context) Ù„Ù„Ø¹Ù…ÙŠÙ„
// - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙŠØ© (Intent) Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©
// - Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ù…Ù†ØªØ¬Ø§Øª/Ù…Ø·Ø§Ø¹Ù…/Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©)
// - ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… GPT
// - Ø¥Ø±Ø¬Ø§Ø¹: text, actions, products, providers, orderDraft, suggestions

export async function POST(request: Request) {
  // 1. Parse request
  // 2. Build context
  // 3. Parse intent
  // 4. Fetch relevant data
  // 5. Generate response
  // 6. Return response with actions
}
```

### 2. Context Builder (`/lib/ai/context-builder.ts`)

```typescript
interface AIContext {
  customer: {
    id: string;
    name: string;
    city: string;
    cityId: string;
  };
  orderHistory: {
    recentOrders: Order[];
    favoriteProducts: Product[];
    favoriteProviders: Provider[];
    totalOrders: number;
    averageOrderValue: number;
  };
  preferences: {
    cuisineTypes: string[];
    priceRange: 'budget' | 'mid' | 'premium';
    usualOrderTime: string;
  };
  currentContext: {
    time: 'ØµØ¨Ø§Ø­' | 'Ø¸Ù‡Ø±' | 'Ù…Ø³Ø§Ø¡' | 'Ù„ÙŠÙ„';
    dayOfWeek: string;
    activePromotions: Promotion[];
    nearbyProviders: Provider[];
  };
}

// Ø¬Ù„Ø¨ ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Supabase
```

### 3. Intent Parser (`/lib/ai/intent-parser.ts`)

```typescript
type IntentType = 
  | 'search_product'      // Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬
  | 'search_provider'     // Ø¨Ø­Ø« Ø¹Ù† Ù…Ø·Ø¹Ù…
  | 'browse_category'     // ØªØµÙØ­ ÙØ¦Ø©
  | 'compare'             // Ù…Ù‚Ø§Ø±Ù†Ø©
  | 'reorder'             // Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨ Ø³Ø§Ø¨Ù‚
  | 'get_recommendations' // Ø·Ù„Ø¨ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
  | 'add_to_order'        // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø·Ù„Ø¨
  | 'modify_order'        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
  | 'confirm_order'       // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
  | 'cancel_order'        // Ø¥Ù„ØºØ§Ø¡
  | 'greeting'            // ØªØ­ÙŠØ©
  | 'unclear';            // ØºÙŠØ± ÙˆØ§Ø¶Ø­

interface ParsedIntent {
  type: IntentType;
  confidence: number;
  entities: {
    products?: string[];
    providers?: string[];
    quantities?: number[];
    categories?: string[];
    priceRange?: { min?: number; max?: number };
    attributes?: string[]; // ["Ø­Ø§Ø±", "Ù†Ø¨Ø§ØªÙŠ"]
    sortBy?: 'price' | 'rating' | 'delivery_time';
  };
}

// Ø§Ø³ØªØ®Ø¯Ù… GPT-4o-mini Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙŠØ© (Ø£Ø±Ø®Øµ ÙˆØ£Ø³Ø±Ø¹)
```

### 4. Response Generator (`/lib/ai/response-generator.ts`)

```typescript
interface AIResponse {
  text: string;                    // Ù†Øµ Ø§Ù„Ø±Ø¯ Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©
  actions: string[];               // Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
  products?: Product[];            // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø¹Ø±Ø¶
  providers?: Provider[];          // Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ù„Ù„Ø¹Ø±Ø¶
  orderDraft?: OrderDraft;         // Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ø·Ù„Ø¨
  suggestions?: string[];          // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
}

interface OrderDraft {
  items: {
    productId: string;
    productName: string;
    providerId: string;
    providerName: string;
    quantity: number;
    price: number;
    variants?: { name: string; price: number }[];
  }[];
  subtotal: number;
  deliveryFee: number;
  total: number;
}

// Ø§Ø³ØªØ®Ø¯Ù… GPT-4o Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯ÙˆØ¯ (Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø©)
```

### 5. useAIChat Hook (`/hooks/useAIChat.ts`)

```typescript
interface UseAIChatReturn {
  messages: Message[];
  isLoading: boolean;
  error: string | null;
  orderDraft: OrderDraft | null;
  
  // Methods
  sendMessage: (message: string) => Promise<void>;
  confirmOrder: () => void;        // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
  modifyOrder: (modifications: any) => void;
  cancelOrder: () => void;
  clearChat: () => void;
}

// ÙŠØ³ØªØ®Ø¯Ù… useCart Ù…Ù† Zustand Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø³Ù„Ø©
```

### 6. SmartAssistant Component

```typescript
// Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:
// - Modal/Drawer ÙŠÙØªØ­ Ù…Ù† ChatFAB
// - RTL support (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)
// - Responsive (mobile-first)
// - Header Ù…Ø¹ Ø¹Ù†ÙˆØ§Ù† ÙˆØ²Ø± Ø¥ØºÙ„Ø§Ù‚
// - Messages area Ù…Ø¹ auto-scroll
// - Order draft card (Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø·Ù„Ø¨)
// - Input area Ù…Ø¹ Ø²Ø± Ø¥Ø±Ø³Ø§Ù„
// - Animations (framer-motion)
```

## System Prompt Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯

```
Ø£Ù†Øª "Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ù†Ø¬Ø²Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ" ğŸ¤–ØŒ Ù…Ø³Ø§Ø¹Ø¯ ÙˆØ¯ÙˆØ¯ ÙˆÙ…Ø±Ø­ Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… "Ø¥Ù†Ø¬Ø²Ù†Ø§" ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ Ù…ØµØ±.

Ø´Ø®ØµÙŠØªÙƒ:
- ØªØªÙƒÙ„Ù… Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ø±Ø­Ø©
- ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ø¹ØªØ¯Ù„ ğŸ˜ŠğŸ•ğŸ”¥
- ØªØ¹Ø±Ù Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØªØ³ØªØ®Ø¯Ù…Ù‡
- ØªÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙØŒ ØµØ¹ÙŠØ¯ Ù…ØµØ±)
- Ù„Ø§ ØªÙƒÙˆÙ† Ù…Ø²Ø¹Ø¬Ø§Ù‹ Ø£Ùˆ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„

Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø±Ø¯:
1. Ø£Ø±Ø¬Ø¹ JSON Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙƒÙ„:
{
  "text": "Ù†Øµ Ø§Ù„Ø±Ø¯",
  "actions": ["action1", "action2"],
  "products": [],
  "providers": [],
  "orderDraft": null,
  "suggestions": ["Ø§Ù‚ØªØ±Ø§Ø­ 1", "Ø§Ù‚ØªØ±Ø§Ø­ 2"]
}

2. Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:
- "show_products": Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§Øª
- "show_providers": Ø¹Ø±Ø¶ Ù…Ø·Ø§Ø¹Ù…
- "add_to_cart": Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
- "show_comparison": Ø¹Ø±Ø¶ Ù…Ù‚Ø§Ø±Ù†Ø©
- "confirm_order": ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
- "ask_clarification": Ø·Ù„Ø¨ ØªÙˆØ¶ÙŠØ­

3. Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©:
- Ø§ÙÙ‡Ù… Ù…Ø§ ÙŠØ±ÙŠØ¯Ù‡ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­
- Ø§Ø¹Ø±Ø¶ 2-3 Ø®ÙŠØ§Ø±Ø§Øª ÙÙ‚Ø· ÙˆÙ„ÙŠØ³ Ù‚Ø§Ø¦Ù…Ø© Ø·ÙˆÙŠÙ„Ø©
- Ù‚Ø¯Ù… Ù…Ù‚Ø§Ø±Ù†Ø§Øª Ù…ÙÙŠØ¯Ø©
- Ø§Ù‚ØªØ±Ø­ Ù…Ù†ØªØ¬Ø§Øª Ù…ÙƒÙ…Ù„Ø© Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ
- Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
```

## Ø¬Ø¯Ø§ÙˆÙ„ Supabase Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§

```sql
-- Ø¬Ø¯ÙˆÙ„ Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
CREATE TABLE ai_conversations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  customer_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  started_at TIMESTAMPTZ DEFAULT NOW(),
  ended_at TIMESTAMPTZ,
  messages_count INT DEFAULT 0,
  resulted_in_order BOOLEAN DEFAULT FALSE,
  order_id UUID REFERENCES orders(id),
  feedback_rating INT CHECK (feedback_rating BETWEEN 1 AND 5),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø¬Ø¯ÙˆÙ„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
CREATE TABLE ai_messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  conversation_id UUID REFERENCES ai_conversations(id) ON DELETE CASCADE,
  role TEXT NOT NULL CHECK (role IN ('user', 'assistant', 'system')),
  content TEXT NOT NULL,
  intent_type TEXT,
  intent_confidence FLOAT,
  entities JSONB,
  products_shown UUID[],
  providers_shown UUID[],
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø¬Ø¯ÙˆÙ„ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
CREATE TABLE customer_preferences (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  customer_id UUID UNIQUE REFERENCES profiles(id) ON DELETE CASCADE,
  favorite_categories TEXT[] DEFAULT '{}',
  favorite_providers UUID[] DEFAULT '{}',
  favorite_products UUID[] DEFAULT '{}',
  price_range TEXT DEFAULT 'mid',
  dietary_restrictions TEXT[] DEFAULT '{}',
  usual_order_time TEXT,
  average_order_value DECIMAL(10,2),
  last_updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_ai_conversations_customer ON ai_conversations(customer_id);
CREATE INDEX idx_ai_messages_conversation ON ai_messages(conversation_id);
CREATE INDEX idx_customer_preferences_customer ON customer_preferences(customer_id);
```

## Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Ù„Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„ÙŠÙ‡Ø§)

- `profiles` - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `providers` - Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ù‚Ø¯Ù…ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- `menu_items` - Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `product_variants` - Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `orders` - Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- `order_items` - Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- `reviews` - Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
- `cities` - Ø§Ù„Ù…Ø¯Ù†
- `governorates` - Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª

## Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ°

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
1. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ types ÙÙŠ `/types/chat.ts`
2. Ø¥Ù†Ø´Ø§Ø¡ `/lib/ai/prompts.ts` Ù…Ø¹ System Prompts
3. Ø¥Ù†Ø´Ø§Ø¡ `/lib/ai/context-builder.ts`
4. Ø¥Ù†Ø´Ø§Ø¡ `/lib/ai/intent-parser.ts`
5. Ø¥Ù†Ø´Ø§Ø¡ `/lib/ai/response-generator.ts`
6. Ø¥Ù†Ø´Ø§Ø¡ `/app/api/chat/route.ts`

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„Ù€ Hook ÙˆØ§Ù„Ù€ Store
1. Ø¥Ù†Ø´Ø§Ø¡ `/hooks/useAIChat.ts`
2. Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ useCart Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
1. Ø¥Ù†Ø´Ø§Ø¡ `/components/customer/chat/ChatFAB.tsx`
2. Ø¥Ù†Ø´Ø§Ø¡ `/components/customer/chat/SmartAssistant.tsx`
3. Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ©
4. Ø¥Ø¶Ø§ÙØ© ChatFAB Ù„Ù„Ù€ layout

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
1. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Supabase
2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ RLS policies

## Environment Variables Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```env
OPENAI_API_KEY=sk-...
```

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ø§Ø³ØªØ®Ø¯Ù… GPT-4o-mini Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙŠØ© (Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±Ø®Øµ)ØŒ ÙˆGPT-4o Ù„Ù„Ø±Ø¯ÙˆØ¯
2. **Ø§Ù„ØªÙƒÙ„ÙØ©**: Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10 Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© Ù„Ù„Ù€ context
3. **Ø§Ù„Ø£Ù…Ø§Ù†**: Ù„Ø§ ØªÙƒØ´Ù Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­Ø³Ø§Ø³Ø© ÙÙŠ Ø§Ù„Ø±Ø¯ÙˆØ¯
4. **RTL**: ÙƒÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªØ¯Ø¹Ù… RTL
5. **Mobile**: ØµÙ…Ù… mobile-first

## Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø­Ø§Ø¯Ø«Ø© ÙƒØ§Ù…Ù„Ø©

```
ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø¹Ø§ÙŠØ² Ø¨ÙŠØªØ²Ø§

ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯:
{
  "text": "Ù„Ù‚ÙŠØªÙ„Ùƒ Ø¨ÙŠØªØ²Ø§ ÙÙŠ Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ! ğŸ•\n\nğŸ† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§ (Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹)\nâ€¢ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 85 Ø¬.Ù…\nâ€¢ â­ 4.8 | ğŸ• 15 Ø¯Ù‚ÙŠÙ‚Ø©\n\nğŸ’° Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ± (Ø§Ù„Ø£Ø±Ø®Øµ)\nâ€¢ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 70 Ø¬.Ù…\nâ€¢ â­ 4.5 | ğŸ• 25 Ø¯Ù‚ÙŠÙ‚Ø©\n\nØªØ­Ø¨ ØªØ®ØªØ§Ø± Ù…Ù† Ø£ÙŠ Ù…Ø·Ø¹Ù…ØŸ",
  "actions": ["show_products", "show_comparison"],
  "products": [...],
  "providers": [...],
  "suggestions": ["Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§", "Ù…Ø·Ø¹Ù… Ø§Ù„Ø£Ù…ÙŠØ±", "Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©"]
}

ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§

ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯:
{
  "text": "Ù…Ù…ØªØ§Ø²! ğŸ‰\n\nğŸ“‹ Ø·Ù„Ø¨Ùƒ Ù…Ù† Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§:\nâ€¢ 1x Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§ ÙƒØ¨ÙŠØ±Ø©: 85 Ø¬.Ù…\nâ€¢ ØªÙˆØµÙŠÙ„: 8 Ø¬.Ù…\nâ€¢ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 93 Ø¬.Ù…\n\nØªØ­Ø¨ ØªØ¶ÙŠÙ Ø­Ø§Ø¬Ø© ØªØ§Ù†ÙŠØ©ØŸ ğŸ¥¤",
  "actions": ["show_order_draft"],
  "orderDraft": {
    "items": [{...}],
    "subtotal": 85,
    "deliveryFee": 8,
    "total": 93
  },
  "suggestions": ["âœ… Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©", "â• Ø£Ø¶Ù Ù…Ø´Ø±ÙˆØ¨", "âŒ Ø¥Ù„ØºØ§Ø¡"]
}

ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©

ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯:
{
  "text": "ØªÙ…Ø§Ù…! ğŸ‰ Ø¶ÙØª Ø·Ù„Ø¨Ùƒ Ù„Ù„Ø³Ù„Ø©.\n\nØªÙ‚Ø¯Ø± ØªØ±ÙˆØ­ Ù„Ù„Ø³Ù„Ø© Ø¯Ù„ÙˆÙ‚ØªÙŠ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.",
  "actions": ["add_to_cart", "redirect_to_cart"],
  "suggestions": ["ğŸ›’ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³Ù„Ø©", "â• Ø·Ù„Ø¨ ØªØ§Ù†ÙŠ", "ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"]
}
```

Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø¢Ù† Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø°ÙƒÙˆØ± ÙÙŠ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ°.
```

---

### ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ Prompt

1. **Ù‚Ø¨Ù„ Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ù€ Prompt Ù„Ù€ Claude Code:**
   - ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ `OPENAI_API_KEY` ÙÙŠ `.env.local`
   - ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø¬Ø§Ø­

2. **Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ†ÙÙŠØ°:**
   - Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ù…Ø®ØªÙ„ÙØ©
   - Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù€ prompts ÙˆØ­Ø³Ù‘Ù†Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
   - ØªØ§Ø¨Ø¹ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ OpenAI API

3. **Ù„Ù„ØªØ¹Ø¯ÙŠÙ„:**
   - ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ System Prompt ÙÙŠ `/lib/ai/prompts.ts`
   - ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù€ intents ÙÙŠ Intent Parser

---

**ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·Ø© Ø¨ÙˆØ§Ø³Ø·Ø©:** Claude AI
**Ù„Ù…Ø´Ø±ÙˆØ¹:** Engezna (Ø¥Ù†Ø¬Ø²Ù†Ø§)
**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** December 11, 2025
**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** December 11, 2025

---

> ğŸ’¡ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ¬Ø¯Ø§Øª ÙˆØ§Ù„Ù€ feedback Ù…Ù† ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.
