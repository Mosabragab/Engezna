# Roadmap - Engezna Platform

## Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 2026-02-13

## Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: MVP Ù…ÙƒØªÙ…Ù„ 100% - Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¬Ù‡ÙŠØ² Ù„Ù€ Google Play

---

## Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø­Ù„

| Ø§Ù„Ù…Ø±Ø­Ù„Ø©                                    | Ø§Ù„Ø­Ø§Ù„Ø©     | Ø§Ù„ØªÙ‚Ø¯Ù… |
| ------------------------------------------ | ---------- | ------ |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0: Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø£Ù…Ù†ÙŠØ© Ø¹Ø§Ø¬Ù„Ø©             | âœ… Ù…ÙƒØªÙ…Ù„   | 100%   |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø£ØµÙˆØ§Øª         | âœ… Ù…ÙƒØªÙ…Ù„   | 100%   |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1.5: Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø­Ø±Ø¬Ø© Ù…Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©      | ğŸ”„ Ø¬Ø§Ø±ÙŠ    | 85%    |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ (Lighthouse)       | â¬œ Ù„Ù… ÙŠØ¨Ø¯Ø£ | 0%     |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø¥Ø¹Ø¯Ø§Ø¯ Capacitor + Android Build | â¬œ Ù„Ù… ÙŠØ¨Ø¯Ø£ | 0%     |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªØ¬Ù‡ÙŠØ² Google Play Store Listing | â¬œ Ù„Ù… ÙŠØ¨Ø¯Ø£ | 0%     |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©     | â¬œ Ù„Ù… ÙŠØ¨Ø¯Ø£ | 0%     |
| Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6: Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Google Play           | â¬œ Ù„Ù… ÙŠØ¨Ø¯Ø£ | 0%     |

---

## ğŸ”´ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„Ø¢Ù†: Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1.5 (Ù…ØªØ¨Ù‚ÙŠ 7 Ù…Ù‡Ø§Ù…)

### Ù…Ù‡Ø§Ù… ØªØ­ØªØ§Ø¬ ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø§Ù„Ùƒ (Supabase Dashboard + Vercel):

| #   | Ø§Ù„Ù…Ù‡Ù…Ø©                                                           | Ø§Ù„Ù†ÙˆØ¹         |
| --- | ---------------------------------------------------------------- | ------------- |
| 1   | Ø¹Ù…Ù„ Rotate Ù„Ù„Ù€ Service Role Key Ù…Ù† Supabase Dashboard            | Supabase      |
| 2   | ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Vercel + GitHub Secrets + ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª     | Vercel/GitHub |
| 3   | Ø§Ù„ØªØ£ÙƒØ¯ Ø£Ù† triggers Ø§Ù„Ø¢Ù…Ù†Ø© (`on_*`) ØªØºØ·ÙŠ ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª               | Supabase SQL  |
| 4   | Ø­Ø°Ù Database Webhooks Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ù† Supabase Dashboard Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø± | Supabase      |

### Ù…Ù‡Ø§Ù… ØªØ­ØªØ§Ø¬ ØªÙ†ÙÙŠØ° ÙƒÙˆØ¯:

| #   | Ø§Ù„Ù…Ù‡Ù…Ø©                                                  | Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© |
| --- | ------------------------------------------------------- | -------- |
| 5   | Ø¥Ø¶Ø§ÙØ© webhook handler Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù…Ù† Kashier       | Ù…ØªÙˆØ³Ø·    |
| 6   | ØªØ­ÙˆÙŠÙ„ CSRF Ù…Ù† log-only Ù„Ù€ enforce (`CSRF_ENFORCE=true`) | Ù…ØªÙˆØ³Ø·    |
| 7   | ØªØ­ÙˆÙŠÙ„ CSP Ù…Ù† report-only Ù„Ù€ enforce Ø¨Ø¹Ø¯ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ§ÙÙ‚  | Ù…ØªÙˆØ³Ø·    |

---

## Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¬Ø§ÙŠØ© Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1.5 (ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯)

- ØªÙ†ÙÙŠØ° Ø§Ù„Ù€ 4 Ù…Ù‡Ø§Ù… Ø§Ù„Ù„ÙŠ Ù…Ø­ØªØ§Ø¬Ø© Ø§Ù„Ù…Ø§Ù„Ùƒ (rotate key, update envs, verify triggers, delete webhooks)
- ØªØ­ÙˆÙŠÙ„ CSRF Ùˆ CSP Ù„Ù€ enforce mode

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 - ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ (2-3 Ø£ÙŠØ§Ù…)

- ØªØ­Ø³ÙŠÙ† LCP Ù…Ù† 7.9s Ù„Ø£Ù‚Ù„ Ù…Ù† 2.5s
- Ø¶ØºØ· Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (938KB â†’ < 200KB)
- Ø¥ØµÙ„Ø§Ø­ CLS Ùˆ FCP
- ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ù„Ù€ WebP/AVIF
- Ø¥Ø¶Ø§ÙØ© Skeleton Loaders
- Ø§Ù„Ù‡Ø¯Ù: Lighthouse Performance > 80

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 - Capacitor + Android (2-3 Ø£ÙŠØ§Ù…)

- ØªØ«Ø¨ÙŠØª ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Capacitor
- Ø¥Ø¹Ø¯Ø§Ø¯ Android project + native plugins
- Ø¥Ø¹Ø¯Ø§Ø¯ `google-services.json` Ù…Ù† Firebase
- Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù‰ emulator ÙˆØ¬Ù‡Ø§Ø² Ø­Ù‚ÙŠÙ‚ÙŠ
- Ø¨Ù†Ø§Ø¡ Release AAB

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4 - Google Play Store Listing (1-2 ÙŠÙˆÙ…)

- ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Google Play Developer ($25)
- ØªØµÙ…ÙŠÙ… Feature Graphic + Screenshots (PNG)
- ÙƒØªØ§Ø¨Ø© ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ø± (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
- Ù…Ù„Ø¡ Content Rating + Data Safety Form

### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5 - Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (2-3 Ø£ÙŠØ§Ù…)

- ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Tests (Unit + Security + E2E)
- Ø§Ø®ØªØ¨Ø§Ø± ÙŠØ¯ÙˆÙŠ Ù„ÙƒÙ„ flow
- Lighthouse audit Ù†Ù‡Ø§Ø¦ÙŠ
- Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ù…Ù†ÙŠØ© Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6 - Ø§Ù„Ù†Ø´Ø± (1-3 Ø£ÙŠØ§Ù…)

- Internal Testing â†’ Closed Testing â†’ Production
- Staged Rollout: 10% â†’ 25% â†’ 50% â†’ 100%

---

## Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡ Ø­Ø¯ÙŠØ«Ø§Ù‹ (ÙØ¨Ø±Ø§ÙŠØ± 2026)

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0: Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø£Ù…Ù†ÙŠØ© âœ… (2/8)

- [x] Ù†Ù‚Ù„ Firebase credentials Ù„Ù€ dynamic injection
- [x] ØªØ­Ø¯ÙŠØ« jspdf v4.1.0 (Ø«ØºØ±Ø© Ø­Ø±Ø¬Ø©)
- [x] ØªØ¹Ø·ÙŠÙ„ test account auto-confirmation ÙÙŠ production
- [x] Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† RBAC middleware Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª âœ… (2/8 - 2/9)

- [x] Audio Manager Ù…Ø±ÙƒØ²ÙŠ (singleton) Ù…Ø¹ vibration fallback
- [x] Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù‚Ø¯Ù…ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ØŒ Ø±Ø³Ø§Ù„Ø©ØŒ ØªÙ‚ÙŠÙŠÙ…ØŒ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ØŒ Ø´ÙƒÙˆÙ‰)
- [x] Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ØŒ Ø±Ø³Ø§Ù„Ø©ØŒ ØªØ³Ø¹ÙŠØ± Ù…Ø®ØµØµØŒ ØªØ°ÙƒØ±Ø© Ø¯Ø¹Ù…)
- [x] ØµÙØ­Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Ø¹Ù…ÙŠÙ„ + Ù…Ø²ÙˆØ¯ + Ø£Ø¯Ù…Ù†)
- [x] ØµÙØ­Ø© Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† `/admin/notifications`
- [x] Ø¥ØµÙ„Ø§Ø­ ØµÙˆØª Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„
- [x] Ø¥ØµÙ„Ø§Ø­ Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© (auto-archive, RLS, Ø£ØµÙ†Ø§Ù, Ø¥Ø´Ø¹Ø§Ø±Ø§Øª)
- [x] ØªÙ†Ø§Ø³Ù‚ ØªØµÙ…ÙŠÙ… ÙƒØ±ÙˆØª Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ù…Ø¹ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1.5: Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø­Ø±Ø¬Ø© ğŸ”„ (2/12 - 2/13)

- [x] Ø­Ø°Ù 7 triggers ØªØ­ØªÙˆÙŠ Service Role JWT Ù…ÙƒØ´ÙˆÙ (2/13)
- [x] Ø¥ØµÙ„Ø§Ø­ Phantom Orders - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù€ Kashier (2/13)
- [x] Ø¥Ù†Ø´Ø§Ø¡ Kashier Refund API endpoint (2/13)
- [x] Ø¥Ø¶Ø§ÙØ© webhook idempotency + unique constraint (2/13)
- [x] ØªÙØ¹ÙŠÙ„ CSRF protection ÙÙŠ middleware (log-only) (2/13)
- [x] Ø¥Ø²Ø§Ù„Ø© console.log ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù€ structured logger (36 Ù…Ù„Ù) (2/13)
- [x] Ø¥Ù„Ø²Ø§Ù… Kashier webhook signature (2/13)
- [x] Ø¥ØµÙ„Ø§Ø­ promo validation identity spoofing (2/13)
- [x] Ø¥Ø¶Ø§ÙØ© CSP header (report-only) (2/13)
- [x] ØªØ¶ÙŠÙŠÙ‚ RLS policies Ø¹Ù„Ù‰ profiles, promo_codes, provider_invitations (2/13)
- [x] cron job Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ø¯ÙØ¹ (pg_cron) (2/13)
- [x] Ø¥ØµÙ„Ø§Ø­ Kashier credentials validation (throw Ø¨Ø¯Ù„ fallback) (2/13)
- [x] Ù†Ù‚Ù„ cron Ù…Ù† Vercel Ù„Ù€ Supabase pg_cron (2/13)
- [ ] Ø¹Ù…Ù„ Rotate Ù„Ù„Ù€ Service Role Key â† **Ù…Ø­ØªØ§Ø¬ Ø§Ù„Ù…Ø§Ù„Ùƒ**
- [ ] ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙØªØ§Ø­ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª â† **Ù…Ø­ØªØ§Ø¬ Ø§Ù„Ù…Ø§Ù„Ùƒ**
- [ ] Ø­Ø°Ù Database Webhooks Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© â† **Ù…Ø­ØªØ§Ø¬ Ø§Ù„Ù…Ø§Ù„Ùƒ**
- [ ] ØªØ­ÙˆÙŠÙ„ CSRF Ùˆ CSP Ù„Ù€ enforce mode

### Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (2/10 - 2/11)

- [x] Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø§Ù†Ø±Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠØ© (11 ØªØ­Ø³ÙŠÙ†)
- [x] Ø¥ØµÙ„Ø§Ø­ ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
- [x] ØªØ­Ù…ÙŠÙ„ ÙØ¦Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹
- [x] ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø¬Ø± Ù„Ù„Ø£Ø¯Ù…Ù†
- [x] Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†ÙƒÙŠØ© Ù„Ù„Ù…Ù†ØµØ© ÙˆØ§Ù„Ù…Ø²ÙˆØ¯ÙŠÙ†
- [x] Ø¥ØµÙ„Ø§Ø­ 9 Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø²ÙˆØ¯ÙŠÙ† (P0-P2)
- [x] Ø¥ØµÙ„Ø§Ø­ toggle switches ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª RTL

---

## High Priority (Before Launch)

### 1. Payment Integration (Kashier) âœ…

- [x] Kashier account setup and API credentials
- [x] Integrate Kashier Egyptian payment gateway
- [x] Online payment support for customers
- [x] Payment status webhooks
- [x] Payment result page
- [x] Webhook signature enforcement
- [x] Webhook idempotency (duplicate protection)
- [x] Phantom Orders fix (create before redirect)
- [x] Refund API endpoint
- [x] Pending payment timeout (pg_cron)
- [ ] Account activation (pending Kashier approval)

### 2. App Store Preparation â¬œ

- [ ] Generate app screenshots (PNG format - Arabic/English)
- [ ] Write app store descriptions
- [ ] Complete Data Safety Form
- [x] Privacy Policy URL in manifest
- [ ] Test PWA installation on Android/iOS
- [ ] Design Feature Graphic (1024x500 px)
- [ ] Capacitor setup + Android build

### 3. Testing & QA â¬œ

- [ ] Run existing E2E tests (Playwright)
- [ ] End-to-end user journey testing
- [ ] Payment flow testing
- [ ] Performance testing (Lighthouse > 80)
- [ ] Security tests

---

## Medium Priority

### 4. Push Notifications (Firebase) ğŸ”„

- [x] Firebase Cloud Messaging setup
- [x] Service worker integration (dynamic)
- [x] Notification preferences UI
- [x] Audio Manager with fallback
- [x] Database triggers for all events
- [ ] Ù†Ø´Ø± Edge Functions Ø¹Ù„Ù‰ Supabase
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ `FIREBASE_SERVICE_ACCOUNT` ÙƒÙ€ Supabase Secret
- [ ] Ø§Ø®ØªØ¨Ø§Ø± FCM Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©: trigger â†’ Edge Function â†’ FCM â†’ device

### 5. Admin Promo Code UI âœ…

- [x] Promo code creation form
- [x] Manage existing promo codes
- [x] Track usage statistics
- [x] Expiration and usage limits
- [x] Dynamic category loading

### 6. Refund Handling âœ…

- [x] Refund request workflow
- [x] Admin approval process
- [x] Kashier Refund API endpoint
- [x] Refund notifications
- [ ] Kashier refund webhook handler (ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹)

### 7. SMS Notifications â¬œ

- [ ] Twilio or local provider setup
- [ ] Order status SMS notifications
- [ ] OTP verification via SMS

---

## Low Priority (Post-Launch)

### 8. Advanced Analytics

- [ ] Time-series revenue/orders charts
- [ ] Performance metrics and trends
- [ ] Customer retention analytics

### 9. Banner System Enhancements âœ… (Ø£Ø³Ø§Ø³ÙŠ)

- [x] Banner management (CRUD)
- [x] Banner analytics (impressions, clicks)
- [x] Geo-targeted banners
- [ ] Video banner support
- [ ] A/B testing for banners

### 10. AI Assistant Improvements

- [ ] Claude 4.5 Haiku migration
- [ ] Improved product context tracking
- [ ] Multi-store support
- [ ] Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø¹Ø·Ù„ Ù…Ø¤Ù‚ØªØ§Ù‹ (`NEXT_PUBLIC_AI_ASSISTANT_ENABLED=false`)

### 11. Code Quality (Post-Launch)

- [ ] ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© (8 Ù…Ù„ÙØ§Øª > 2000 Ø³Ø·Ø±)
- [ ] Ø¥ÙƒÙ…Ø§Ù„ Repository Pattern migration
- [ ] Supabase client singleton pattern

---

## Non-Technical Tasks (Before Launch)

- [ ] Restaurant onboarding (10 partners minimum)
- [ ] Marketing materials preparation
- [ ] Customer support training
- [x] Security audit (Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¹Ù…ÙŠÙ‚Ø© 2/12 + Ø¥ØµÙ„Ø§Ø­Ø§Øª 2/13)
- [x] Legal review (Terms & Privacy done)
- [ ] Google Play Developer account ($25)

---

## Completed Features

### Customer Side

- [x] Registration & authentication (Email + Google Native OAuth)
- [x] Provider browsing and search
- [x] Shopping cart and checkout
- [x] Order tracking and history
- [x] Favorites system
- [x] Real-time notifications (Realtime + polling fallback)
- [x] In-app chat with provider (read receipts âœ“/âœ“âœ“)
- [x] Product variants (size/weight)
- [x] Guest browsing (localStorage location)
- [x] Welcome/Landing page
- [x] PWA support (100/100 score)
- [x] Legal pages (Privacy, Terms)
- [x] Custom orders (triple broadcast)
- [x] Notification preferences
- [x] Refund requests

### Provider Side

- [x] Registration & approval flow
- [x] Dashboard with statistics
- [x] Order management (accept/reject/status updates)
- [x] Product management (CRUD)
- [x] Excel menu import
- [x] 4 pricing types (fixed, per_unit, variants, weight_variants)
- [x] Product variants
- [x] Provider categories
- [x] Finance page (COD/Online)
- [x] Real-time notifications
- [x] In-app chat
- [x] Delete account functionality
- [x] Notification preferences
- [x] Custom order cards (consistent design)
- [x] Bank details

### Admin Side

- [x] Dashboard and analytics
- [x] Provider approval system
- [x] Settlements management (COD/Online + auto-settlements)
- [x] Customer management (ban/unban)
- [x] Order management
- [x] Sidebar state persistence
- [x] Admin notifications page
- [x] Promo code management
- [x] Banner & promotions system
- [x] Products management page
- [x] Locations management (geo-targeting)
- [x] Refund management
- [x] Bank details for platform

### Security & Infrastructure

- [x] Upstash Redis rate limiting
- [x] XSS protection in exports
- [x] Zod validation on API routes
- [x] Error boundaries (global + locale + admin + provider)
- [x] SEO (robots.ts, sitemap.ts, generateMetadata)
- [x] Sentry error monitoring
- [x] Vercel Analytics + Speed Insights
- [x] Structured logger (replaced console.log)
- [x] CSP header (report-only)
- [x] CSRF protection (log-only)
- [x] RLS policy tightening
- [x] Kashier webhook signature enforcement
- [x] Payment idempotency
- [x] Pending payment timeout (pg_cron)

---

## Test Accounts

| Email              | Password | Role              |
| ------------------ | -------- | ----------------- |
| provider@test.com  | Test123! | Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø§Ù„Ù†Ø¬Ø§Ø­ |
| provider2@test.com | Test123! | Ø³Ù„Ø·Ø§Ù† Ø¨ÙŠØªØ²Ø§       |
| provider3@test.com | Test123! | Ù„Ø§ÙÙ†Ø¯Ø± ÙƒØ§ÙÙŠÙ‡      |
| provider4@test.com | Test123! | Ù…Ø·Ø¹Ù… Ø§Ù„ØµÙØ§        |
| customer@test.com  | Test123! | Customer          |
| admin@test.com     | Test123! | Admin             |

---

## Architecture Reference

### Tech Stack

- **Frontend**: Next.js 16 (App Router), TypeScript, Tailwind CSS
- **Backend**: Supabase (PostgreSQL, Auth, RLS)
- **State**: Zustand (cart)
- **UI**: shadcn/ui
- **i18n**: next-intl (Arabic/English)
- **Testing**: Playwright (E2E), 270+ unit tests, 76 security tests
- **Monitoring**: Sentry (errors), Vercel Analytics (performance)
- **Security**: Upstash Redis (rate limiting), CSRF, CSP
- **Payment**: Kashier (Egyptian gateway)
- **Notifications**: Firebase Cloud Messaging

### Key Files

- `src/app/[locale]/` - Locale-aware pages
- `src/components/` - Reusable components
- `src/hooks/` - Custom React hooks
- `src/lib/` - Utilities and API functions
- `src/lib/repositories/` - Data access layer
- `supabase/migrations/` - Database migrations
- `docs/APP_STORES_RELEASE_ROADMAP.md` - Ø®Ø·Ø© ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Google Play Ùˆ App Store

### Key Documents

| Ø§Ù„Ù…Ù„Ù                                | Ø§Ù„Ù…Ø­ØªÙˆÙ‰                                                      |
| ------------------------------------ | ------------------------------------------------------------ |
| `docs/APP_STORES_RELEASE_ROADMAP.md` | Ø®Ø·Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© (Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 0-6B) - Google Play + App Store |
| `docs/PRE_RELEASE_REVIEW_REPORT.md`  | ØªÙ‚Ø±ÙŠØ± Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±                                    |
| `docs/MASTER_IMPLEMENTATION_PLAN.md` | Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø´Ø§Ù…Ù„Ø© (Ø§Ù„Ù…Ø±Ø§Ø­Ù„ 1-4)                            |
| `docs/QUALITY_LAYERS_ROADMAP.md`     | Ø®Ø±ÙŠØ·Ø© Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø¬ÙˆØ¯Ø©                                           |

### Pricing Types

| Type              | Description          | Example            |
| ----------------- | -------------------- | ------------------ |
| `fixed`           | Single price         | Coffee - 25 EGP    |
| `per_unit`        | Price per unit       | Meat - 250 EGP/kg  |
| `variants`        | Size/option variants | Pizza S/M/L        |
| `weight_variants` | Weight variants      | Lamb 250g/500g/1kg |
